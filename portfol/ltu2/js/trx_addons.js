function ClusterIcon(e,t){e.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.cluster_=e,this.className_=e.getMarkerClusterer().getClusterClass(),this.styles_=t,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(e.getMap())}function Cluster(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinimumClusterSize(),this.averageCenter_=e.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,e.getStyles())}function MarkerClusterer(e,t,r){this.extend(MarkerClusterer,google.maps.OverlayView),t=t||[],r=r||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=r.gridSize||60,this.minClusterSize_=r.minimumClusterSize||2,this.maxZoom_=r.maxZoom||null,this.styles_=r.styles||[],this.title_=r.title||"",this.zoomOnClick_=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick_=r.zoomOnClick),this.averageCenter_=!1,void 0!==r.averageCenter&&(this.averageCenter_=r.averageCenter),this.ignoreHidden_=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden_=r.ignoreHidden),this.enableRetinaIcons_=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons_=r.enableRetinaIcons),this.imagePath_=r.imagePath||MarkerClusterer.IMAGE_PATH,this.imageExtension_=r.imageExtension||MarkerClusterer.IMAGE_EXTENSION,this.imageSizes_=r.imageSizes||MarkerClusterer.IMAGE_SIZES,this.calculator_=r.calculator||MarkerClusterer.CALCULATOR,this.batchSize_=r.batchSize||MarkerClusterer.BATCH_SIZE,this.batchSizeIE_=r.batchSizeIE||MarkerClusterer.BATCH_SIZE_IE,this.clusterClass_=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e)}!function(){"use strict";window.trx_addons_get_cookie=function(e){var t=void 0!=arguments[1]?arguments[1]:null,r=document.cookie.indexOf(e+"="),i=r+e.length+1;if(!r&&e!=document.cookie.substring(0,e.length))return t;if(-1==r)return t;var s=document.cookie.indexOf(";",i);return-1==s&&(s=document.cookie.length),unescape(document.cookie.substring(i,s))},window.trx_addons_set_cookie=function(e,t,r,i,s,n){var r=void 0!=arguments[2]?arguments[2]:0,i=void 0!=arguments[3]?arguments[3]:"/",s=void 0!=arguments[4]?arguments[4]:"",n=void 0!=arguments[5]?arguments[5]:"",a=new Date;a.setTime(a.getTime()),r&&(r=1e3*r*60*60*24);var o=new Date(a.getTime()+r);document.cookie=e+"="+escape(t)+(r?";expires="+o.toGMTString():"")+(i?";path="+i:"")+(s?";domain="+s:"")+(n?";secure":"")},window.trx_addons_del_cookie=function(e,t,r){var t=void 0!=arguments[1]?arguments[1]:"/",r=void 0!=arguments[2]?arguments[2]:"";trx_addons_get_cookie(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(r?";domain="+r:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")},window.trx_addons_clear_listbox=function(e){for(var t=e.options.length-1;t>=0;t--)e.options[t]=null},window.trx_addons_add_listbox_item=function(e,t,r){var i=new Option;i.value=t,i.text=r,e.options.add(i)},window.trx_addons_del_listbox_item_by_value=function(e,t){for(var r=0;r<e.options.length;r++)if(e.options[r].value==t){e.options[r]=null;break}},window.trx_addons_del_listbox_item_by_text=function(e,t){for(var r=0;r<e.options.length;r++)if(e.options[r].text==t){e.options[r]=null;break}},window.trx_addons_find_listbox_item_by_value=function(e,t){for(var r=-1,i=0;i<e.options.length;i++)if(e.options[i].value==t){r=i;break}return r},window.trx_addons_find_listbox_item_by_text=function(e,t){for(var r=-1,i=0;i<e.options.length;i++)if(e.options[i].text==t){r=i;break}return r},window.trx_addons_select_listbox_item_by_value=function(e,t){for(var r=0;r<e.options.length;r++)e.options[r].selected=t==e.options[r].value},window.trx_addons_select_listbox_item_by_text=function(e,t){for(var r=0;r<e.options.length;r++)e.options[r].selected=t==e.options[r].text},window.trx_addons_get_listbox_values=function(e){for(var t=arguments[1]?arguments[1]:",",r="",i=0;i<e.options.length;i++)r+=(r?t:"")+e.options[i].value;return r},window.trx_addons_get_listbox_texts=function(e){for(var t=arguments[1]?arguments[1]:",",r="",i=0;i<e.options.length;i++)r+=(r?t:"")+e.options[i].text;return r},window.trx_addons_sort_listbox=function(e){for(var t=new Array,r=new Option,i=0;i<e.options.length;i++)t[i]=e.options[i].clone();for(var s=0;s<t.length-1;s++)for(var n=s+1;n<t.length;n++)t[s].text>t[n].text&&(r=t[s],t[s]=t[n],t[n]=r);for(var i=0;i<e.options.length;i++)e.options[i]=t[i].clone()},window.trx_addons_get_listbox_selected_index=function(e){for(var t=0;t<e.options.length;t++)if(e.options[t].selected)return t;return-1},window.trx_addons_get_listbox_selected_value=function(e){for(var t=0;t<e.options.length;t++)if(e.options[t].selected)return e.options[t].value;return null},window.trx_addons_get_listbox_selected_text=function(e){for(var t=0;t<e.options.length;t++)if(e.options[t].selected)return e.options[t].text;return null},window.trx_addons_get_listbox_selected_option=function(e){for(var t=0;t<e.options.length;t++)if(e.options[t].selected)return e.options[t];return null},window.trx_addons_get_radio_value=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t].value;return null},window.trx_addons_set_radio_checked_by_num=function(e,t){for(var r=0;r<e.length;r++)e[r].checked&&r!=t?e[r].checked=!1:r==t&&(e[r].checked=!0)},window.trx_addons_set_radio_checked_by_value=function(e,t){for(var r=0;r<e.length;r++)e[r].checked&&e[r].value!=t?e[r].checked=!1:e[r].value==t&&(e[r].checked=!0)},window.trx_addons_form_validate=function(e,t){void 0===t.error_message_show&&(t.error_message_show=!0),void 0===t.error_message_time&&(t.error_message_time=5e3),void 0===t.error_message_class&&(t.error_message_class="trx_addons_message_box_error"),void 0===t.error_message_text&&(t.error_message_text="Incorrect data in the fields!"),void 0===t.error_fields_class&&(t.error_fields_class="trx_addons_field_error"),void 0===t.exit_after_first_error&&(t.exit_after_first_error=!1);var r="";if(e.find(":input").each(function(){if(""==r||!t.exit_after_first_error)for(var e=0;e<t.rules.length;e++)if(jQuery(this).attr("name")==t.rules[e].field){var i=jQuery(this).val(),s=!1;if("object"==typeof t.rules[e].min_length&&t.rules[e].min_length.value>0&&i.length<t.rules[e].min_length.value&&(""==r&&jQuery(this).get(0).focus(),r+='<p class="trx_addons_error_item">'+(void 0!==t.rules[e].min_length.message?t.rules[e].min_length.message:t.error_message_text)+"</p>",s=!0),s&&t.exit_after_first_error||"object"!=typeof t.rules[e].max_length||t.rules[e].max_length.value>0&&i.length>t.rules[e].max_length.value&&(""==r&&jQuery(this).get(0).focus(),r+='<p class="trx_addons_error_item">'+(void 0!==t.rules[e].max_length.message?t.rules[e].max_length.message:t.error_message_text)+"</p>",s=!0),!(s&&t.exit_after_first_error||"object"!=typeof t.rules[e].mask)&&""!=t.rules[e].mask.value){var n=new RegExp(t.rules[e].mask.value);n.test(i)||(""==r&&jQuery(this).get(0).focus(),r+='<p class="trx_addons_error_item">'+(void 0!==t.rules[e].mask.message?t.rules[e].mask.message:t.error_message_text)+"</p>",s=!0)}s&&t.exit_after_first_error||"object"!=typeof t.rules[e].state||"checked"!=t.rules[e].state.value||jQuery(this).get(0).checked||(""==r&&jQuery(this).get(0).focus(),r+='<p class="trx_addons_error_item">'+(void 0!==t.rules[e].state.message?t.rules[e].state.message:t.error_message_text)+"</p>",s=!0),s&&t.exit_after_first_error||"object"!=typeof t.rules[e].equal_to||""!=t.rules[e].equal_to.value&&i!=jQuery(jQuery(this).get(0).form[t.rules[e].equal_to.value]).val()&&(""==r&&jQuery(this).get(0).focus(),r+='<p class="trx_addons_error_item">'+(void 0!==t.rules[e].equal_to.message?t.rules[e].equal_to.message:t.error_message_text)+"</p>",s=!0),""!=t.error_fields_class&&jQuery(this).toggleClass(t.error_fields_class,s)}}),""!=r&&t.error_message_show){var i=e.find(".trx_addons_message_box");0==i.length&&(i=e.parent().find(".trx_addons_message_box")),0==i.length&&(e.append('<div class="trx_addons_message_box"></div>'),i=e.find(".trx_addons_message_box")),t.error_message_class&&i.toggleClass(t.error_message_class,!0),i.html(r).fadeIn(),setTimeout(function(){i.fadeOut()},t.error_message_time)}return""!=r},window.trx_addons_refresh_list=function(e,t,r,i){var s=r.val();i.append('<span class="trx_addons_refresh trx_addons_icon-spin3 animate-spin"></span>');var n={action:"trx_addons_refresh_list",nonce:TRX_ADDONS_STORAGE.ajax_nonce,parent_type:e,parent_value:t,list_not_selected:!0===r.data("not-selected")};return jQuery.post(TRX_ADDONS_STORAGE.ajax_url,n,function(e){var t={};try{t=JSON.parse(e)}catch(r){t={error:TRX_ADDONS_STORAGE.msg_ajax_error},console.log(e)}if(""===t.error){var n="",a=r.prop("tagName").toLowerCase(),o="select"==a?r.attr("name"):r.data("field_name");for(var d in t.data)"select"!=a&&0==t.data[d].key||(n+="select"==a?'<option class="'+t.data[d].key+'" value="'+t.data[d].key+'"'+(t.data[d].key==s?' selected="selected"':"")+">"+t.data[d].value+"</option>":'<label><input type="checkbox" value="'+t.data[d].key+'" name="'+o+'">'+t.data[d].value+"</label><br>");r.html(n),"select"==a&&0==r.find("option:selected").length&&r.find("option").length>0&&(r.find("option").get(0).selected=!0),i.find("span.trx_addons_refresh").remove(),r.trigger("change")}}),!1},window.trx_addons_document_animate_to=function(e,t){var r=isNaN(e)?0:Number(e);if(isNaN(e)){-1==e.indexOf("#")&&(e="#"+e);var i=jQuery(e).eq(0);if(0==i.length)return;r=i.offset().top}var s=jQuery(window).scrollTop(),n=Math.min(1200,Math.max(300,Math.round(Math.abs(r-s)/jQuery(window).height()*300)));jQuery("body,html").stop(!0).animate({scrollTop:r-jQuery("#wpadminbar").height()+1},n,"linear",t)},window.trx_addons_document_set_location=function(e){if(void 0!==history.pushState&&null==navigator.userAgent.match(/MSIE\s[6-9]/i)){try{return void history.pushState(null,null,e)}catch(e){}location.href=e}},window.trx_addons_add_to_url=function(e,t){var r=void 0===arguments[2]||arguments[2],i=e.indexOf("?"),s={};if(i>0)for(var n=e.substr(i+1).split("&"),a="",o=0;o<n.length;o++){var a=n[o].split("=");s[a[0]]=a.length>1?a[1]:""}for(var d in t)s[d]=t[d];e=(i>0?e.substr(0,i):e)+"?";var o=0;for(d in s)r&&""==s[d]||(e+=(o++>0?"&":"")+d+"="+s[d]);return e},window.trx_addons_is_local_link=function(e){var t=void 0!==e;if(t){var r=e.indexOf("#");if(0==r&&1==e.length)t=!1;else{r<0&&(r=e.length);var i=window.location.href,s=i.indexOf("#");s>0&&(i=i.substring(0,s)),t=0==r,t||(t=i==e.substring(0,r))}}return t},window.trx_addons_browser_is_mobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},window.trx_addons_browser_is_ios=function(){return!(null==navigator.userAgent.match(/iPad|iPhone|iPod/i)&&!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i))},window.trx_addons_is_retina=function(){return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches},window.trx_addons_get_file_name=function(e){e=e.replace(/\\/g,"/");var t=e.lastIndexOf("/");return t>=0&&(e=e.substr(t+1)),e},window.trx_addons_get_file_ext=function(e){var t=e.lastIndexOf(".");return e=t>=0?e.substr(t+1):""},window.trx_addons_check_images_complete=function(e){var t=!0;return e.find("img").each(function(){t&&(jQuery(this).get(0).complete||(t=!1))}),t},window.trx_addons_replicate=function(e,t){for(var r="",i=0;i<t;i++)r+=e;return r},window.trx_addons_get_icon_class=function(e){for(var e=e.split(" "),t="",r=0;r<e.length;r++)if(e[r].indexOf("icon-")>=0){t=e[r];break}return t},window.trx_addons_chg_icon_class=function(e,t){var r=!1;e=e.split(" ");for(var i=0;i<e.length;i++)if(e[i].indexOf("icon-")>=0){e[i]=t,r=!0;break}return r||(1==e.length&&""==e[0]?e[0]=t:e.push(t)),e.join(" ")},window.trx_addons_serialize=function(e){var t=1==arguments.length||!0===argument[1];switch(typeof e){case"number":return!(isNaN(e)||!isFinite(e))&&(Math.floor(e)==e?"i":"d")+":"+e+";";case"string":return"s:"+e.length+':"'+e+'";';case"boolean":return"b:"+(e?"1":"0")+";";case"object":if(null==e)return"N;";if(e instanceof Array){for(var r={idx:-1},i=[],s=0;s<e.length;s++){r.idx++;var n=trx_addons_serialize(e[s]);n&&i.push(trx_addons_serialize(r.idx)+n)}return"a:"+e.length+":{"+i.join("")+"}"}var a=trx_addons_get_class(e);if(void 0==a)return!1;var o=new Array;for(var d in e){var n=trx_addons_serialize(e[d]);n&&o.push(trx_addons_serialize(d)+n)}return t?"a:"+o.length+":{"+o.join("")+"}":"O:"+a.length+':"'+a+'":'+o.length+":{"+o.join("")+"}";case"undefined":return"N;"}return!1},window.trx_addons_get_class=function(e){if(e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&e.constructor){var t=e.constructor.toString().match(/function\s*(\w+)/);if(t&&2==t.length)return t[1]}return!1}}(),function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function r(e,t){(i(e,t)?n:s)(e,t)}var i,s,n;"classList"in document.documentElement?(i=function(e,t){return e.classList.contains(t)},s=function(e,t){e.classList.add(t)},n=function(e,t){e.classList.remove(t)}):(i=function(e,r){return t(r).test(e.className)},s=function(e,t){i(e,t)||(e.className=e.className+" "+t)},n=function(e,r){e.className=e.className.replace(t(r)," ")});var a={hasClass:i,addClass:s,removeClass:n,toggleClass:r,has:i,add:s,remove:n,toggle:r};"function"==typeof define&&define.amd?define(a):e.classie=a}(window),function(){function e(e){classie.add(e.target.parentNode,"input--filled")}function t(e){""===e.target.value.trim()&&classie.remove(e.target.parentNode,"input--filled")}String.prototype.trim||function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}}(),[].slice.call(document.querySelectorAll("input.input__field, textarea.input__field")).forEach(function(r){""!==r.value.trim()&&classie.add(r.parentNode,"input--filled"),r.addEventListener("focus",e),r.addEventListener("blur",t)})}(),jQuery(".sc_form input, .sc_form textarea").focus(function(){jQuery(this).addClass("hastext")}),jQuery(".sc_form input, .sc_form textarea").blur(function(){""==jQuery(this).val()&&jQuery(this).removeClass("hastext")}),jQuery(".sc_form button").on("click",function(e){setTimeout(function(){""==jQuery(".sc_form input, .sc_form textarea").val()&&jQuery(".sc_form input, .sc_form textarea").removeClass("hastext"),""==jQuery(".sc_form input").val()&&jQuery(".sc_form input:not(.hastext)").parent().removeClass("input--filled"),""==jQuery(".sc_form textarea").val()&&jQuery(".sc_form textarea:not(.hastext)").parent().removeClass("input--filled")},500)}),jQuery(document).ready(function(){"use strict";function e(){if(TRX_ADDONS_STORAGE.vc_edit_mode>0&&0==jQuery(".vc_empty-placeholder").length&&a++<30)return void setTimeout(e,200);jQuery("#page_preloader").animate({opacity:0},800,function(){jQuery(this).css({display:"none"})}),trx_addons_is_retina()&&trx_addons_set_cookie("trx_addons_is_retina",1,365),jQuery(document).on("action.init_hidden_elements",t),jQuery(document).on("vc-full-width-row",function(e,t){jQuery(document).trigger("action.resize_vc_row_start",[t]),jQuery(document).trigger("action.resize_vc_row_end",[t])}),jQuery(document).on("action.resize_vc_row_end",function(e,t){o=!0,i()}),jQuery(window).resize(function(){o||i()}),jQuery(window).scroll(function(){r()}),t(),setTimeout(function(){o||i(),r()},1),"function"==typeof window.wpb_prepare_tab_content&&void 0===window.wpb_prepare_tab_content_old&&(window.wpb_prepare_tab_content_old=window.wpb_prepare_tab_content)&&(window.wpb_prepare_tab_content=function(e,t){void 0!==t.newPanel&&t.newPanel.length>0?jQuery(document).trigger("action.init_hidden_elements",[t.newPanel]):void 0!==t.panel&&t.panel.length>0&&jQuery(document).trigger("action.init_hidden_elements",[t.panel]),window.wpb_prepare_tab_content_old(e,t)}),"function"==typeof window.vc_accordionActivate&&void 0===window.vc_accordionActivate_old&&(window.vc_accordionActivate_old=window.vc_accordionActivate)&&(window.vc_accordionActivate=function(e,t){void 0!==t.newPanel&&t.newPanel.length>0?jQuery(document).trigger("action.init_hidden_elements",[t.newPanel]):void 0!==t.panel&&t.panel.length>0&&jQuery(document).trigger("action.init_hidden_elements",[t.panel]),window.vc_accordionActivate_old(e,t)})}function t(e,t){if(void 0===t&&(t=jQuery("body")),TRX_ADDONS_STORAGE.animate_inner_links>0&&!t.hasClass("animate_to_inited")&&t.addClass("animate_to_inited").on("click","a",function(e){var t=jQuery(this),r=t.parent();if(!(r.parent().hasClass("trx_addons_tabs_titles")||r.hasClass("vc_tta-tab")||t.hasClass("ui-tabs-anchor")||r.hasClass("vc_tta-panel-title")||r.hasClass("wpb_accordion_header"))){var i=t.attr("href");if("#"!=i&&trx_addons_is_local_link(i)){var s=i.indexOf("#");return i=s<0?0:i.substr(s),trx_addons_document_animate_to(i),e.preventDefault(),!1}}}),t.find(".trx_addons_tabs:not(.inited)").length>0&&jQuery.ui&&jQuery.ui.tabs&&t.find(".trx_addons_tabs:not(.inited)").each(function(){var e=jQuery(this).data("active");if(isNaN(e)){e=0;var t=jQuery(this).find('> ul > li[data-active="true"]').eq(0);t.length>0&&(e=t.index(),(isNaN(e)||e<0)&&(e=0))}else e=Math.max(0,e);var r=[];jQuery(this).find('> ul > li[data-disabled="true"]').each(function(){r.push(jQuery(this).index())}),jQuery(this).addClass("inited").tabs({active:e,disabled:r,show:{effect:"fadeIn",duration:300},hide:{effect:"fadeOut",duration:300},create:function(e,t){t.panel.length>0&&jQuery(document).trigger("action.init_hidden_elements",[t.panel])},activate:function(e,t){t.newPanel.length>0&&jQuery(document).trigger("action.init_hidden_elements",[t.newPanel])}})}),t.find(".trx_addons_accordion:not(.inited)").length>0&&jQuery.ui&&jQuery.ui.accordion&&t.find(".trx_addons_accordion:not(.inited)").each(function(){var e=jQuery(this),t=e.data("headers");void 0===t&&(t="h5");var r=e.data("height-style");void 0===r&&(r="content");var i=e.data("collapsible");void 0===i&&(i=!1);var s=e.data("active"),n=!1;if(isNaN(s)){s=0;var n=e.find(t+'[data-active="true"]').eq(0);if(n.length>0){for(;!n.parent().hasClass("trx_addons_accordion");)n=n.parent();s=n.index(),(isNaN(s)||s<0)&&(s=0)}}else s=Math.max(0,s);e.addClass("inited").accordion({active:s,collapsible:i,header:t,heightStyle:r,create:function(e,r){r.panel.length>0?jQuery(document).trigger("action.init_hidden_elements",[r.panel]):!1!==n&&n.length>0&&n.find(">"+t).trigger("click")},activate:function(e,t){t.newPanel.length>0&&jQuery(document).trigger("action.init_hidden_elements",[t.newPanel])}})}),t.find(".trx_addons_range_slider:not(.inited)").length>0&&jQuery.ui&&jQuery.ui.slider&&t.find(".trx_addons_range_slider:not(.inited)").each(function(){var e=jQuery(this),t=e.data("linked_field");if(t=void 0===t?e.prev('input[type="hidden"]'):jQuery("#"+t),0!=t.length){var r=e.find("> .trx_addons_range_slider_label_cur"),i=e.data("range");void 0===i&&(i="min");var s=t.val().split(","),n=e.data("min");void 0===n&&(n=0);var a=e.data("max");void 0===a&&(a=0);var o=e.data("step");void 0===o&&(o=1);var d={range:i,min:n,max:a,step:o,slide:function(e,s){var o="min"===i?[s.value]:s.values;t.val(o.join(","));for(var d=0;d<o.length;d++)r.eq(d).html(o[d]).css("left",Math.max(0,Math.min(100,100*(o[d]-n)/(a-n)))+"%")},create:function(e,t){for(var i=0;i<s.length;i++)r.eq(i).html(s[i]).css("left",Math.max(0,Math.min(100,100*(s[i]-n)/(a-n)))+"%")}};!0===i?d.values=s:d.value=s[0],e.addClass("inited").slider(d)}}),jQuery(document).trigger("action.init_sliders",[t]),jQuery(document).trigger("action.init_shortcodes",[t]),t.find(".trx_addons_video_player.with_cover .video_hover:not(.inited)").length>0&&t.find(".trx_addons_video_player.with_cover .video_hover:not(.inited)").addClass("inited").on("click",function(e){if(!jQuery(this).hasClass("trx_addons_popup_link")){jQuery(this).parents(".trx_addons_video_player").addClass("video_play").find(".video_embed").html(jQuery(this).data("video"));var t=jQuery(this).parents(".slider_swiper");if(t.length>0){var r=t.attr("id");TRX_ADDONS_STORAGE.swipers[r].stopAutoplay(),r=t.data("controller"),r&&TRX_ADDONS_STORAGE.swipers[r+"_swiper"]&&TRX_ADDONS_STORAGE.swipers[r+"_swiper"].stopAutoplay()}return jQuery(window).trigger("resize"),e.preventDefault(),!1}}),"pretty"==TRX_ADDONS_STORAGE.popup_engine){t.find("a[href$='jpg']:not(.inited),a[href$='jpeg']:not(.inited),a[href$='png']:not(.inited),a[href$='gif']:not(.inited)").each(function(){jQuery(this).parent().hasClass("woocommerce-product-gallery__image")||jQuery(this).attr("rel","prettyPhoto[slideshow]")});var r=t.find("a[rel*='prettyPhoto']:not(.inited):not(.esgbox):not([data-rel*='pretty']):not([rel*='magnific']):not([data-rel*='magnific'])").addClass("inited");try{r.prettyPhoto({social_tools:"",theme:"facebook",deeplinking:!1})}catch(e){}}else if("magnific"==TRX_ADDONS_STORAGE.popup_engine){t.find("a[href$='jpg']:not(.inited),a[href$='jpeg']:not(.inited),a[href$='png']:not(.inited),a[href$='gif']:not(.inited)").each(function(){jQuery(this).parent().hasClass("woocommerce-product-gallery__image")||jQuery(this).attr("rel","magnific")});var r=t.find("a[rel*='magnific']:not(.inited):not(.esgbox):not(.prettyphoto):not([rel*='pretty']):not([data-rel*='pretty'])").addClass("inited");try{r.magnificPopup({type:"image",mainClass:"mfp-img-mobile",closeOnContentClick:!0,closeBtnInside:!0,fixedContentPos:!0,midClick:!0,preloader:!0,tLoading:TRX_ADDONS_STORAGE.msg_magnific_loading,gallery:{enabled:!0},image:{tError:TRX_ADDONS_STORAGE.msg_magnific_error,verticalFit:!0},zoom:{enabled:!0,duration:300,easing:"ease-in-out",opener:function(e){return e.is("img")||(e.parents(".trx_addons_hover").find("img").length>0?e=e.parents(".trx_addons_hover").find("img"):e.find("img").length>0?e=e.find("img"):e.siblings("img").length>0?e=e.siblings("img"):e.parent().parent().find("img").length>0&&(e=e.parent().parent().find("img"))),e}},callbacks:{beforeClose:function(){jQuery(".mfp-figure figcaption").hide(),jQuery(".mfp-figure .mfp-arrow").hide()}}})}catch(e){}t.find(".trx_addons_popup_link:not(.popup_inited)").addClass("popup_inited").magnificPopup({type:"inline",focus:"input",closeBtnInside:!0,callbacks:{open:function(){jQuery(document).trigger("action.init_hidden_elements",[jQuery(this.content)]);var e=jQuery(this.content).find(".video_frame");if(e.length>0){e.find("> iframe").length>0?e.data("video-embed",e.html()):e.html(e.data("video-embed")),e.find("> iframe").each(function(){var e=jQuery(this).attr("src");(e.indexOf("youtube")>=0||e.indexOf("vimeo")>=0)&&jQuery(this).attr("src",trx_addons_add_to_url(e,{autoplay:1}))})}},close:function(){jQuery(this.content).find(".video_frame").empty()},resize:function(){i()}}})}if(t.find(".post_counters_likes:not(.inited),.comment_counters_likes:not(.inited)").length>0&&t.find(".post_counters_likes:not(.inited),.comment_counters_likes:not(.inited)").addClass("inited").on("click",function(e){var t=jQuery(this),r=t.hasClass("enabled")?1:-1,i=t.hasClass("post_counters_likes")?t.data("postid"):t.data("commentid"),s=trx_addons_get_cookie(t.hasClass("post_counters_likes")?"trx_addons_likes":"trx_addons_comment_likes");return void 0!==s&&null!==s||(s=""),jQuery.post(TRX_ADDONS_STORAGE.ajax_url,{action:t.hasClass("post_counters_likes")?"post_counter":"comment_counter",nonce:TRX_ADDONS_STORAGE.ajax_nonce,post_id:i,likes:r}).done(function(e){var n={};try{n=JSON.parse(e)}catch(t){n={error:TRX_ADDONS_STORAGE.msg_ajax_error},console.log(e)}if(""===n.error){var a=n.counter;if(1==r){var o=t.data("title-dislike");t.removeClass("enabled trx_addons_icon-heart-empty").addClass("disabled trx_addons_icon-heart"),s+=(","!=s.substr(-1)?",":"")+i+","}else{var o=t.data("title-like");t.removeClass("disabled trx_addons_icon-heart").addClass("enabled trx_addons_icon-heart-empty"),s=s.replace(","+i+",",",")}t.data("likes",a).attr("title",o).find(t.hasClass("post_counters_likes")?".post_counters_number":".comment_counters_number").html(a),trx_addons_set_cookie(t.hasClass("post_counters_likes")?"trx_addons_likes":"trx_addons_comment_likes",s,365)}else alert(TRX_ADDONS_STORAGE.msg_error_like)}),e.preventDefault(),!1}),t.find(".socials_share .socials_caption:not(.inited)").length>0&&t.find(".socials_share .socials_caption:not(.inited)").each(function(){jQuery(this).addClass("inited").on("click",function(e){return jQuery(this).siblings(".social_items").slideToggle(),e.preventDefault(),!1})}),t.find(".socials_share .social_items:not(.inited)").length>0&&t.find(".socials_share .social_items:not(.inited)").each(function(){jQuery(this).addClass("inited").on("click",".social_item_popup",function(e){var t=jQuery(this).data("link");return window.open(t,"_blank","scrollbars=0, resizable=1, menubar=0, left=100, top=100, width=480, height=400, toolbar=0, status=0"),e.preventDefault(),!1})}),t.find(".widget ul > li").each(function(){jQuery(this).find("ul").length>0&&jQuery(this).addClass("has_children")}),t.find(".widget_archive a:not(.inited)").addClass("inited").each(function(){var e=jQuery(this).html().split(" ");e.length>1&&(e[e.length-1]="<span>"+e[e.length-1]+"</span>",jQuery(this).html(e.join(" ")))}),jQuery(".sc_layouts_menu_nav").each(function(){if(0==jQuery(this).find(".current-menu-item").length||jQuery("body").hasClass("blog_template")){void 0===TRX_ADDONS_STORAGE.menu_cache&&(TRX_ADDONS_STORAGE.menu_cache=[]);var e=jQuery(this).attr("id");void 0===e&&(e=("sc_layouts_menu_nav_"+Math.random()).replace(".",""),jQuery(this).attr("id",e)),TRX_ADDONS_STORAGE.menu_cache.push("#"+e)}}),TRX_ADDONS_STORAGE.menu_cache&&TRX_ADDONS_STORAGE.menu_cache.length>0){var s=window.location.href;for(var n in TRX_ADDONS_STORAGE.menu_cache)n=jQuery(TRX_ADDONS_STORAGE.menu_cache[n]+":not(.prepared)"),0!=n.length&&(n.addClass("prepared"),n.find("li").removeClass("current-menu-ancestor current-menu-parent current-menu-item current_page_item"),n.find('a[href="'+s+'"]').each(function(e){var t=jQuery(this).parent();t.addClass("current-menu-item"),t.hasClass("menu-item-object-page")&&t.addClass("current_page_item");for(var r=0;(t=t.parents("li")).length>0;)r++,t.addClass("current-menu-ancestor"+(1==r?" current-menu-parent":""))}))}t.find(".trx_addons_scroll_to_top:not(.inited)").addClass("inited").on("click",function(e){return jQuery("html,body").animate({scrollTop:0},"slow"),e.preventDefault(),!1}),jQuery(document).trigger("action.before_ready_trx_addons"),jQuery(document).trigger("action.ready_trx_addons"),jQuery(document).trigger("action.after_ready_trx_addons")}function r(){var e=jQuery(window).scrollTop(),t=jQuery(".trx_addons_scroll_to_top");Math.max(0,jQuery("#wpadminbar").height());t.length>0&&(e>100?t.addClass("show"):t.removeClass("show")),jQuery('[data-animation^="animated"]:not(.animated)').each(function(){jQuery(this).offset().top<e+jQuery(window).height()&&jQuery(this).addClass(jQuery(this).data("animation"))}),jQuery(document).trigger("action.scroll_trx_addons")}function i(e){s(e),jQuery(document).trigger("action.resize_trx_addons",[e])}function s(e){void 0===e&&(e=jQuery("body")),e.find("video").each(function(){if(!(jQuery(this).parents("div:hidden,section:hidden,article:hidden").length>0)){var e=jQuery(this).eq(0),t=void 0!=e.data("ratio")?e.data("ratio").split(":"):[16,9];t=2!=t.length||0==t[0]||0==t[1]?16/9:t[0]/t[1];var r=e.parents(".mejs-video"),i=e.data("width"),s=e.data("height");if(!i||!s){if(i=e.attr("width"),s=e.attr("height"),!i||!s)return;e.data({width:i,height:s})}var a="%"==(""+i).substr(-1);i=parseInt(i),s=parseInt(s);var o=Math.round(r.length>0?Math.min(a?1e4:i,r.parents("div,article").width()):e.width()),d=Math.round(a?o/t:o/i*s);parseInt(e.attr("data-last-width"))!=o&&(r.length>0&&mejs&&n(e,o,d),a?e.height(d):e.attr({width:o,height:d}).css({width:o+"px",height:d+"px"}),e.attr("data-last-width",o))}}),e.find(".video_frame iframe").each(function(){if(!(jQuery(this).parents("div:hidden,section:hidden,article:hidden").length>0)){var e=jQuery(this).eq(0);if(!(e.attr("src").indexOf("soundcloud")>0)){var t=void 0!=e.data("ratio")?e.data("ratio").split(":"):void 0!=e.parent().data("ratio")?e.parent().data("ratio").split(":"):e.find("[data-ratio]").length>0?e.find("[data-ratio]").data("ratio").split(":"):[16,9];t=2!=t.length||0==t[0]||0==t[1]?16/9:t[0]/t[1];var r=e.attr("width"),i=e.attr("height");if(r&&i){var s="%"==(""+r).substr(-1);r=parseInt(r),i=parseInt(i);var n=e.parent().width(),a=e.parent().height(),o=n,d=Math.round(s?o/t:o/r*i);"absolute"==e.parent().css("position")&&d>a&&(d=a,o=Math.round(s?d*t:d*r/i)),parseInt(e.attr("data-last-width"))!=o&&(e.css({width:o+"px",height:d+"px"}),e.attr("data-last-width",o))}}}})}function n(e,t,r){if(mejs)for(var i in mejs.players)mejs.players[i].media.src==e.attr("src")&&(mejs.players[i].media.setVideoSize&&mejs.players[i].media.setVideoSize(t,r),mejs.players[i].setPlayerSize(t,r),mejs.players[i].setControlsSize())}var a=0,o=!1;e(),jQuery(window).on("beforeunload",function(){jQuery.browser&&!jQuery.browser.safari&&jQuery("#page_preloader").css({display:"block",opacity:0}).animate({opacity:.8},300)}),TRX_ADDONS_STORAGE.ajax_views&&jQuery(document).on("action.ready_trx_addons",function(){TRX_ADDONS_STORAGE.post_views_counter_inited||(TRX_ADDONS_STORAGE.post_views_counter_inited=!0,setTimeout(function(){jQuery.post(TRX_ADDONS_STORAGE.ajax_url,{action:"post_counter",nonce:TRX_ADDONS_STORAGE.ajax_nonce,post_id:TRX_ADDONS_STORAGE.post_id,views:1}).done(function(e){var t={};try{t=JSON.parse(e)}catch(r){t={error:TRX_ADDONS_STORAGE.ajax_error},console.log(e)}""===t.error&&jQuery(".post_counters_single .post_counters_views .post_counters_number,.sc_layouts_title_meta .post_counters_views .post_counters_number").html(t.counter)})},10))})}),jQuery(document).on("action.ready_trx_addons",function(){"use strict";function e(e){e.find("input").removeClass("trx_addons_field_error");var t=trx_addons_form_validate(e,{error_message_time:4e3,exit_after_first_error:!0,rules:[{field:"log",min_length:{value:1,
message:TRX_ADDONS_STORAGE.msg_login_empty},max_length:{value:60,message:TRX_ADDONS_STORAGE.msg_login_long}},{field:"pwd",min_length:{value:4,message:TRX_ADDONS_STORAGE.msg_password_empty},max_length:{value:60,message:TRX_ADDONS_STORAGE.msg_password_long}}]});return TRX_ADDONS_STORAGE.login_via_ajax&&!t&&jQuery.post(TRX_ADDONS_STORAGE.ajax_url,{action:"trx_addons_login_user",nonce:TRX_ADDONS_STORAGE.ajax_nonce,redirect_to:1==e.find("#redirect_to").length?e.find("#redirect_to").val():"",remember:e.find("#rememberme").val(),user_log:e.find("#log").val(),user_pwd:e.find("#pwd").val()}).done(function(t){var r={};try{r=JSON.parse(t)}catch(e){r={error:TRX_ADDONS_STORAGE.msg_ajax_error},console.log(t)}var i=e.find(".trx_addons_message_box").toggleClass("trx_addons_message_box_error",!1).toggleClass("trx_addons_message_box_success",!1);""===r.error?(i.addClass("trx_addons_message_box_success").html(TRX_ADDONS_STORAGE.msg_login_success),setTimeout(function(){""!=r.redirect_to?location.href=r.redirect_to:location.reload()},3e3)):i.addClass("trx_addons_message_box_error").html(TRX_ADDONS_STORAGE.msg_login_error+(void 0!==r.error?"<br>"+r.error:"")),i.fadeIn().delay(3e3).fadeOut()}),!TRX_ADDONS_STORAGE.login_via_ajax&&!t}function t(e){return e.find("input").removeClass("trx_addons_field_error"),trx_addons_form_validate(e,{error_message_time:4e3,exit_after_first_error:!0,rules:[{field:"agree",state:{value:"checked",message:TRX_ADDONS_STORAGE.msg_not_agree}},{field:"log",min_length:{value:1,message:TRX_ADDONS_STORAGE.msg_login_empty},max_length:{value:60,message:TRX_ADDONS_STORAGE.msg_login_long}},{field:"email",min_length:{value:7,message:TRX_ADDONS_STORAGE.msg_email_not_valid},max_length:{value:60,message:TRX_ADDONS_STORAGE.msg_email_long},mask:{value:TRX_ADDONS_STORAGE.email_mask,message:TRX_ADDONS_STORAGE.msg_email_not_valid}},{field:"pwd",min_length:{value:4,message:TRX_ADDONS_STORAGE.msg_password_empty},max_length:{value:60,message:TRX_ADDONS_STORAGE.msg_password_long}},{field:"pwd2",equal_to:{value:"pwd",message:TRX_ADDONS_STORAGE.msg_password_not_equal}}]})||jQuery.post(TRX_ADDONS_STORAGE.ajax_url,{action:"trx_addons_registration_user",nonce:TRX_ADDONS_STORAGE.ajax_nonce,redirect_to:1==e.find("#redirect_to").length?e.find("#redirect_to").val():"",user_name:e.find("#log").val(),user_email:e.find("#email").val(),user_pwd:e.find("#pwd").val()}).done(function(t){var r={};try{r=JSON.parse(t)}catch(e){r={error:TRX_ADDONS_STORAGE.msg_ajax_error},console.log(t)}var i=e.find(".trx_addons_message_box").toggleClass("trx_addons_message_box_error",!1).toggleClass("trx_addons_message_box_success",!1);""===r.error?(i.addClass("trx_addons_message_box_success").html(TRX_ADDONS_STORAGE.msg_registration_success),setTimeout(function(){""!=r.redirect_to?location.href=r.redirect_to:jQuery("#trx_addons_login_popup .trx_addons_tabs_title_login > a").trigger("click")},3e3)):i.addClass("trx_addons_message_box_error").html(TRX_ADDONS_STORAGE.msg_registration_error+(void 0!==r.error?"<br>"+r.error:"")),i.fadeIn().delay(3e3).fadeOut()}),!1}jQuery("form.trx_addons_popup_form_login:not(.inited)").addClass("inited").submit(function(t){var r=e(jQuery(this));return r||t.preventDefault(),r}),jQuery("form.trx_addons_popup_form_register:not(.inited)").addClass("inited").submit(function(e){var r=t(jQuery(this));return r||e.preventDefault(),r})}),function(){"use strict";function e(e,t){void 0===t&&(t=jQuery("body")),void 0!==t.length&&0!=t.length&&t.find(".vc_message_box_closeable:not(.inited)").addClass("inited").on("click",function(e){return jQuery(this).fadeOut(),e.preventDefault(),!1})}window.vc_prettyPhoto=function(){},jQuery(document).on("action.init_shortcodes",e),jQuery(document).on("action.init_hidden_elements",e)}(),function(){"use strict";function e(e,t){void 0===t&&(t=jQuery("body")),void 0!==t&&void 0!==t.length&&0!=t.length&&t.find("[data-equal-height],.trx_addons_equal_height").each(function(){var e=jQuery(this),t=e.data("equal-height");void 0===t&&(t=">*");var r=0,i=[],s=0,n=0;if(e.find(t).each(function(){var e=jQuery(this);e.css("visibility","hidden").height("auto");var t=e.height(),a=e.offset().top;if(0==s&&(s=a),s<a){if(i.length>0){if(r>0)for(n=0;n<i.length;n++)i[n].css("visibility","visible").height(r);i=[],r=0}s=a}t>r&&(r=t),i.push(e)}),i.length>0&&r>0)for(n=0;n<i.length;n++)i[n].css("visibility","visible").height(r)})}jQuery(document).on("action.resize_trx_addons",e)}(),jQuery(document).on("action.ready_trx_addons",function(){"use strict";function e(e,t){if(jQuery(window).width()<=960)return void e.removeClass("sc_layouts_row_fixed_on").css({top:"auto"});var r=jQuery(window).scrollTop(),i=jQuery("#wpadminbar"),s=Math.max(0,i.length>0&&"none"!=i.css("display")&&"fixed"==i.css("position")?i.height():0);e.each(function(){var e=jQuery(this).next(),i=parseInt(jQuery(this).hasClass("sc_layouts_row_fixed_on")?e.offset().top:jQuery(this).offset().top);if(isNaN(i)&&(i=0),r+s<=i)jQuery(this).hasClass("sc_layouts_row_fixed_on")&&jQuery(this).removeClass("sc_layouts_row_fixed_on").css({top:"auto"});else{var n=jQuery(this).outerHeight();jQuery(this).hasClass("sc_layouts_row_fixed_on")?t&&jQuery(this).hasClass("sc_layouts_row_fixed_on")&&jQuery(this).offset().top!=s&&jQuery(this).css({top:s+"px"}):s+n<.33*jQuery(window).height()&&(e.height(n),jQuery(this).addClass("sc_layouts_row_fixed_on").css({top:s+"px"}),n=jQuery(this).outerHeight()),s+=n}})}var t=jQuery(".sc_layouts_row_fixed");t.length>0&&(t.each(function(){jQuery(this).next().hasClass("sc_layouts_row_fixed_placeholder")||jQuery(this).after('<div class="sc_layouts_row_fixed_placeholder" style="background-color:'+jQuery(this).css("background-color")+';"></div>')}),jQuery(document).on("action.scroll_trx_addons",function(){e(t,!1)}),jQuery(document).on("action.resize_trx_addons",function(){e(t,!0)}))}),jQuery(document).on("action.ready_trx_addons",function(){"use strict";jQuery(".sc_layouts_logo").on("click",function(e){if("#"==jQuery(this).attr("href"))return trx_addons_document_animate_to(0),e.preventDefault(),!1})}),jQuery(document).on("action.ready_trx_addons",function(){"use strict";function e(e){e.removeClass("search_opened"),e.find(".search_results").fadeOut()}jQuery(".search_wrap:not(.inited)").length>0&&jQuery(".search_wrap:not(.inited)").each(function(){var t=jQuery(this).addClass("inited"),r=t.find(".search_field"),i=null;r.on("keyup",function(s){if(27==s.keyCode)return r.val(""),e(t),void s.preventDefault();if(t.hasClass("search_ajax")){var n=r.val();i&&(clearTimeout(i),i=null),n.length>=4&&(i=setTimeout(function(){jQuery.post(TRX_ADDONS_STORAGE.ajax_url,{action:"ajax_search",nonce:TRX_ADDONS_STORAGE.ajax_nonce,text:n}).done(function(e){clearTimeout(i),i=null;var t={};if(""==e||0==e)t={error:TRX_ADDONS_STORAGE.msg_search_error};else try{t=JSON.parse(e)}catch(r){t={error:TRX_ADDONS_STORAGE.msg_search_error},console.log(e)}var s=""===t.error?t.data:t.error;r.parents(".search_ajax").find(".search_results_content").empty().append(s),r.parents(".search_ajax").find(".search_results").fadeIn()})},500))}}),t.find(".search_submit").on("click",function(i){return!t.hasClass("search_style_expand")&&!t.hasClass("search_style_fullscreen")||t.hasClass("search_opened")?""==r.val()?t.hasClass("search_opened")?e(t):r.get(0).focus():t.find("form").get(0).submit():(t.addClass("search_opened"),setTimeout(function(){r.get(0).focus()},500)),i.preventDefault(),!1}),t.find(".search_close").on("click",function(r){return e(t),r.preventDefault(),!1}),t.find(".search_results_close").on("click",function(e){return jQuery(this).parent().fadeOut(),e.preventDefault(),!1}),t.on("click",".search_more",function(e){return""!=r.val()&&t.find("form").get(0).submit(),e.preventDefault(),!1})})}),jQuery(document).on("action.ready_trx_addons",function(){"use strict";jQuery(".sc_layouts_cart").length>0&&(jQuery("body:not(.added_to_cart_inited)").addClass("added_to_cart_inited").bind("added_to_cart",function(){var e=jQuery(".widget_shopping_cart").eq(0).find(".total .amount").text();void 0!=e&&jQuery(".sc_layouts_cart_summa").text(e);var t=0;jQuery(".widget_shopping_cart_content").eq(0).find(".cart_list li").each(function(){var e=jQuery(this).find(".quantity").html().split(" ",2);isNaN(e[0])||(t+=Number(e[0]))});var r=jQuery(".sc_layouts_cart_items").eq(0).text().split(" ",2);r[0]=t,jQuery(".sc_layouts_cart_items").text(r[0]+" "+r[1]),jQuery(".sc_layouts_cart_items_short").text(r[0]),jQuery(".sc_layouts_cart").data({items:t||0,summa:e||0})}),jQuery(".sc_layouts_cart:not(.inited)").addClass("inited").on("click",".sc_layouts_cart_icon,.sc_layouts_cart_details,.sc_layouts_cart_items_short",function(e){var t=jQuery(this).siblings(".sc_layouts_cart_widget");return t.length>0&&""!=t.text().replace(/\s*/g,"")&&jQuery(this).siblings(".sc_layouts_cart_widget").slideToggle(),e.preventDefault(),!1}).on("click",".sc_layouts_cart_widget_close",function(e){return jQuery(this).parent().slideUp(),e.preventDefault(),!1}))}),function(){"use strict";jQuery(document).on("action.before_ready_trx_addons",function(){window.trx_addons_init_sfmenu=function(e){jQuery(e).show().each(function(){var e=jQuery(this).parent().data("animation-in");void 0==e&&(e="none");var t=jQuery(this).parent().data("animation-out");void 0==t&&(t="none"),jQuery(this).addClass("inited").superfish({delay:500,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"none"!=e?500:200,speedOut:"none"!=t?500:200,autoArrows:!1,dropShadows:!1,onBeforeShow:function(r){if(jQuery(this).parents("ul").length>1){var i=jQuery(window).width(),s=jQuery(this).parents("ul").offset().left,n=jQuery(this).parents("ul").outerWidth(),a=jQuery(this).outerWidth();s+n+a>i-20&&s-a>0?jQuery(this).addClass("submenu_left"):jQuery(this).removeClass("submenu_left")}0==jQuery(this).parents('[class*="columns-"]').length&&"none"!=e&&(jQuery(this).removeClass("animated fast "+t),jQuery(this).addClass("animated fast "+e))},onBeforeHide:function(r){0==jQuery(this).parents('[class*="columns-"]').length&&"none"!=t&&(jQuery(this).removeClass("animated fast "+e),jQuery(this).addClass("animated fast "+t))}})})},trx_addons_init_sfmenu(".sc_layouts_menu:not(.inited) > ul:not(.inited)"),jQuery(".sc_layouts_menu:not(.inited)").each(function(){1==jQuery(this).find(">ul.inited").length&&jQuery(this).addClass("inited")}),jQuery(".sc_layouts_menu_mobile_button_burger:not(.inited)").each(function(){var e=jQuery(this),t=e.find(".sc_layouts_menu_popup");1==t.length&&(e.addClass("inited").on("click",">a",function(e){return t.toggleClass("opened").slideToggle(),e.preventDefault(),!1}),jQuery(document).on("click",function(e){jQuery(".sc_layouts_menu_popup.opened").removeClass("opened").slideUp()}))})}),jQuery(document).on("action.resize_trx_addons",function(){})}(),function(e){"use strict";e.fn.spasticNav=function(t){return t=e.extend({overlap:0,style:"box",reset:50,color:"#00c6ff",colorOverride:!0},t),this.each(function(){var r,i,s=e(this),n=s.find(">.current-menu-item,>.current-menu-parent,>.current-menu-ancestor"),a=!1;0===n.length&&(n=s.find("li").eq(0),a=!0);var o=n.find(">a"),d=parseInt(o.css("paddingLeft"),10);if(isNaN(d)&&(d=0),e('<li id="blob"></li>').css({width:"box"==t.style?o.outerWidth():o.width(),left:n.position().left+("box"==t.style?0:d),top:n.position().top-t.overlap/2,opacity:a?0:1}).appendTo(this),r=e("#blob",s),"box"==t.style&&r.css({height:n.outerHeight()+t.overlap}),t.colorOverride){var l=o.css("backgroundColor");r.css({backgroundColor:a||"transparent"==l?t.color:l})}s.find(">li:not(#blob)").hover(function(){clearTimeout(i);var s=e(this).find(">a"),n=parseInt(s.css("paddingLeft"),10);if(isNaN(n)&&(n=0),t.colorOverride){var a=s.css("backgroundColor");"transparent"!=a&&r.css({backgroundColor:a})}e(this).addClass("blob_over"),r.css({left:e(this).position().left+("box"==t.style?0:n),top:e(this).position().top-t.overlap/2,width:"box"==t.style?s.outerWidth():s.width(),opacity:1})},function(){i=setTimeout(function(){var e=n.find(">a"),i=parseInt(e.css("paddingLeft"),10);if(isNaN(i)&&(i=0),t.colorOverride){var s=e.css("backgroundColor");"transparent"!=s&&r.css({backgroundColor:s})}r.css({width:"box"==t.style?e.outerWidth():e.width(),left:n.position().left+("box"==t.style?0:i),opacity:a?0:1})},t.reset),e(this).removeClass("blob_over")})})}}(jQuery),jQuery(document).on("action.ready_trx_addons",function(){"use strict";jQuery(".sc_services_tabs:not(.inited)").addClass("inited").on("click",".sc_services_tabs_list_item:not(.sc_services_tabs_list_item_active)",function(e){jQuery(this).siblings().removeClass("sc_services_tabs_list_item_active"),jQuery(this).addClass("sc_services_tabs_list_item_active");var t=jQuery(this).parent().siblings(".sc_services_tabs_content"),r=t.find(".sc_services_item");return t.find(".sc_services_item_active").addClass("sc_services_item_flip").removeClass("sc_services_item_active"),r.eq(jQuery(this).index()).addClass("sc_services_item_active"),setTimeout(function(){t.find(".sc_services_item_flip").addClass("trx_addons_hidden").removeClass("sc_services_item_flip"),r.removeClass("sc_services_item_flipping"),setTimeout(function(){r.removeClass("trx_addons_hidden")},600)},600),setTimeout(function(){t.find(".sc_services_item_active").addClass("sc_services_item_flipping")},250),e.preventDefault(),!1}),jQuery(".sc_services_tabs_simple:not(.inited)").addClass("inited").on("click",".sc_services_tabs_list_item:not(.sc_services_tabs_list_item_active)",function(e){jQuery(this).siblings().removeClass("sc_services_tabs_list_item_active"),jQuery(this).addClass("sc_services_tabs_list_item_active");var t=jQuery(this).parent().siblings(".sc_services_tabs_content"),r=t.find(".sc_services_tabs_content_item");return t.find(".sc_services_tabs_content_item_active").addClass("sc_services_item_flip").removeClass("sc_services_tabs_content_item_active"),r.eq(jQuery(this).index()).addClass("sc_services_tabs_content_item_active"),setTimeout(function(){t.find("sc_services_item_flip").removeClass("sc_services_item_flip")},600),e.preventDefault(),!1})}),function(){"use strict";function e(e,t){t.find(".sc_slider_controller:not(.inited)").length>0&&t.find(".sc_slider_controller:not(.inited)").each(function(){var e=jQuery(this).addClass("inited"),t=e.data("slider-id");if(t){var r=e.attr("id");void 0==r&&(r="sc_slider_controller_"+Math.random(),r=r.replace(".",""),e.attr("id",r)),jQuery("#"+t+" .slider_swiper").attr("data-controller",r);var i=(e.data("style"),e.data("effect")),s=e.data("direction"),n=e.data("interval"),a=e.data("height"),o=e.data("slides-per-view"),d=e.data("slides-space"),l=e.data("controls"),c="";jQuery("#"+t+" .swiper-slide").each(function(e){var t=jQuery(this),r=t.data("image"),i=t.data("title");t.data("cats"),t.data("date");c+='<div class="swiper-slide" style="'+(void 0!==r?"background-image: url("+r+");":"")+'"><div class="sc_slider_controller_info"><span class="sc_slider_controller_info_number">'+(e<9?"0":"")+(e+1)+'</span><span class="sc_slider_controller_info_title">'+i+"</span></div></div>"}),e.html('<div id="'+r+'_outer" class="slider_swiper_outer slider_style_controller slider_outer_'+(1==l?"controls slider_outer_controls_side":"nocontrols")+" slider_outer_nopagination slider_outer_"+(1==o?"one":"multi")+" slider_outer_direction_"+("vertical"==s?"vertical":"horizontal")+'"><div id="'+r+'_swiper" class="slider_swiper swiper-slider-container slider_'+(1==l?"controls slider_controls_side":"nocontrols")+" slider_nopagination slider_notitles slider_noresize slider_"+(1==o?"one":"multi")+" slider_direction_"+("vertical"==s?"vertical":"horizontal")+'" data-slides-min-width="100" data-controlled-slider="'+t+'" data-direction="'+("vertical"==s?"vertical":"horizontal")+'"'+(void 0!==i?' data-effect="'+i+'"':"")+(void 0!==n?' data-interval="'+n+'"':"")+(void 0!==o?' data-slides-per-view="'+o+'"':"")+(void 0!==d?' data-slides-space="'+d+'"':"")+(void 0!==a?' style="height:'+a+'"':"")+'><div class="swiper-wrapper">'+c+"</div></div>"+(1==l?'<div class="slider_controls_wrap"><a class="slider_prev swiper-button-prev" href="#"></a><a class="slider_next swiper-button-next" href="#"></a></div>':"")+"</div>")}}),t.find(".sc_slider_controls:not(.inited)").length>0&&t.find(".sc_slider_controls:not(.inited)").each(function(){var e=jQuery(this).addClass("inited"),t=e.data("slider-id");t&&(t+="_swiper",0!=jQuery("#"+t).length&&e.on("click","a",function(e){return jQuery(this).hasClass("slider_next")?TRX_ADDONS_STORAGE.swipers[t].slideNext():TRX_ADDONS_STORAGE.swipers[t].slidePrev(),e.preventDefault(),!1}))}),t.find(".slider_swiper:not(.inited)").length>0&&t.find(".slider_swiper:not(.inited)").each(function(){if(!(jQuery(this).parents("div:hidden,article:hidden").length>0)){var e=jQuery(this),t=e.attr("id");void 0==t&&(t="swiper_"+Math.random(),t=t.replace(".",""),e.attr("id",t));var r=e.parent().hasClass("slider_swiper_outer")?e.parent().attr("id",t+"_outer"):e,i=r.attr("id"),s=e.parents(".sc_slider_controller").length>0,n=e.data("controller");e.find(".swiper-slide").each(function(e){jQuery(this).attr("data-slide-number",e)}),e.css({display:"block",opacity:0}).addClass(t).addClass("inited").data("settings",{mode:"horizontal"});var a=e.data("direction");"vertical"!=a&&(a="horizontal");var o=e.data("slides-min-width");void 0===o&&(o=180,e.attr("data-slides-min-width",o));var d=e.data("slides-per-view");void 0==d&&(d=1,e.attr("data-slides-per-view",d));var l=e.width();0==l&&(l=e.parent().width()),"horizontal"==a&&l/d<o&&(d=Math.max(1,Math.floor(l/o)));var c=e.data("slides-space");void 0==c&&(c=0);var u=e.data("interval");void 0===u&&(u=Math.round(5e3*(1+Math.random()))),isNaN(u)&&(u=0),void 0===TRX_ADDONS_STORAGE.swipers&&(TRX_ADDONS_STORAGE.swipers={}),TRX_ADDONS_STORAGE.swipers[t]=new Swiper("."+t,{direction:a,calculateHeight:!e.hasClass("slider_height_fixed"),resizeReInit:!0,autoResize:!0,effect:e.data("effect")?e.data("effect"):"slide",pagination:!!e.hasClass("slider_pagination")&&"#"+i+" .slider_pagination_wrap",paginationClickable:!!e.hasClass("slider_pagination")&&"#"+i+" .slider_pagination_wrap",paginationType:e.hasClass("slider_pagination")&&e.data("pagination")?e.data("pagination"):"bullets",nextButton:!!e.hasClass("slider_controls")&&"#"+i+" .slider_next",prevButton:!!e.hasClass("slider_controls")&&"#"+i+" .slider_prev",autoplay:!e.hasClass("slider_noautoplay")&&0!=u&&parseInt(u),autoplayDisableOnInteraction:!0,initialSlide:0,slidesPerView:d,loopedSlides:d,spaceBetween:c,speed:600,centeredSlides:!1,loop:!0,grabCursor:!s,slideToClickedSlide:s,touchRatio:s?.2:1,onSlideChangeStart:function(t){r.find(".slider_titles_outside_wrap .active").removeClass("active").fadeOut();var i=jQuery("#"+e.data(s?"controlled-slider":"controller")+" .slider_swiper"),n=i.attr("id");if(TRX_ADDONS_STORAGE.swipers[n]&&1!=jQuery("#"+n).attr("data-busy")){e.attr("data-busy",1),setTimeout(function(){e.attr("data-busy",0)},300);var a=jQuery(t.slides[t.activeIndex]).data("slide-number"),o=i.find('[data-slide-number="'+a+'"]').index();TRX_ADDONS_STORAGE.swipers[n].slideTo(o)}},onSlideChangeEnd:function(t){var i=jQuery(t.slides[t.activeIndex]).data("slide-number"),s=r.find(".slider_titles_outside_wrap .slide_info");s.length>0&&s.eq(i).addClass("active").fadeIn(300),r.find(".swiper-pagination-custom > span").removeClass("swiper-pagination-button-active").eq(i).addClass("swiper-pagination-button-active"),r.find(".trx_addons_video_player.with_cover.video_play").removeClass("video_play").find(".video_embed").empty(),e.attr("data-busy",0)}}),r.find(".swiper-pagination-custom").on("click",">span",function(e){jQuery(this).siblings().removeClass("swiper-pagination-button-active");var r=jQuery(this).addClass("swiper-pagination-button-active").index()*TRX_ADDONS_STORAGE.swipers[t].params.slidesPerGroup;return TRX_ADDONS_STORAGE.swipers[t].params.loop&&(r+=TRX_ADDONS_STORAGE.swipers[t].loopedSlides),TRX_ADDONS_STORAGE.swipers[t].slideTo(r),e.preventDefault(),!1}),e.attr("data-busy",1).animate({opacity:1},"fast"),setTimeout(function(){e.attr("data-busy",0);var t=!!n&&jQuery("#"+n);if(t&&t.length>0&&t.hasClass("sc_slider_controller_vertical")&&t.hasClass("sc_slider_controller_height_auto")){var r=parseFloat(t.css("paddingTop"));isNaN(r)&&(r=0),t.find(".slider_swiper").height(e.height()-2*r)}},300)}})}function t(t,i){e(t,i),r(t,i)}function r(e,t){void 0===t&&(t=jQuery("body")),t.find(".slider_swiper.inited").each(function(){var e=jQuery(this);if(!(e.parents("div:hidden,article:hidden").length>0)){var t=e.attr("id"),r=e.data("direction");"vertical"!=r&&(r="horizontal");var i=e.width(),s=e.data("last-width");if(isNaN(s)&&(s=0),0==s||s!=i){"vertical"!=r&&e.data("last-width",i);var n=e.data("slides-per-view");if("auto"!=TRX_ADDONS_STORAGE.swipers[t].params.slidesPerView){if("horizontal"==r){var a=e.data("slides-min-width");i/n<a&&(n=Math.max(1,Math.floor(i/a))),TRX_ADDONS_STORAGE.swipers[t].params.slidesPerView!=n&&(TRX_ADDONS_STORAGE.swipers[t].params.slidesPerView=n,TRX_ADDONS_STORAGE.swipers[t].params.loopedSlides=n)}TRX_ADDONS_STORAGE.swipers[t].onResize()}if(!e.hasClass("slider_noresize")||0==e.height()){var o=e.find(".swiper-slide").eq(0),d=o.width(),l=o.height(),c=e.data("ratio");(void 0===c||(""+c).indexOf(":")<1)&&(c=l>0?d+":"+l:"16:9",e.attr("data-ratio",c)),c=c.split(":");var u=isNaN(c[0])?16:Number(c[0]),_=isNaN(c[1])?9:Number(c[1]);e.height(Math.floor((1==n?i:d)/u*_));var h=e.data("controller"),p=!!h&&jQuery("#"+h);if(p&&p.length>0&&p.hasClass("sc_slider_controller_vertical")&&p.hasClass("sc_slider_controller_height_auto"))if(screen.width>=768){var m=parseFloat(p.css("paddingTop"));isNaN(m)&&(m=0),p.find(".slider_swiper").height(e.height()-2*m)}else{var f=p.data("slides-per-view");isNaN(f)&&(f=1),p.find(".slider_swiper").height(100*f)}}}}})}jQuery(document).on("action.init_sliders",e),jQuery(document).on("action.init_hidden_elements",t),jQuery(document).on("action.resize_trx_addons",r)}(),jQuery(document).on("action.init_shortcodes",function(e,t){"use strict";function r(){var e={loc:"",current:[],prev:-1,prevOffset:-1,next:-1,nextOffset:-1};return a.each(function(t){var r="#"+jQuery(this).data("id");if(!(r.indexOf("#")<0||1==r.length)){var i=jQuery(this).find("a").attr("href");if(trx_addons_is_local_link(i)){var s=jQuery(r).offset().top,n=jQuery(this).next().find("a").attr("href"),a=n?parseInt(jQuery(n).offset().top):1e6,o=parseInt(jQuery(window).scrollTop());if(s>o+50?e.next<0&&(e.next=t,e.nextOffset=s):s<o-50&&(e.prev=t,e.prevOffset=s),s<o+.8*jQuery(window).height()&&o<a-50&&(e.current.push(t),""==e.loc)){var d=window.location.href,l=d.indexOf("#");l>0&&(d=d.substring(0,l)),e.loc=0==i.indexOf("#")?d+r:r}}}}),e}function i(){var e=r();a.removeClass("toc_menu_item_active");for(var t=0;t<e.current.length;t++)a.eq(e.current[t]).addClass("toc_menu_item_active"),""==e.loc||1!=TRX_ADDONS_STORAGE.update_location_from_anchor||trx_addons_browser_is_mobile()||trx_addons_browser_is_ios()||o||trx_addons_document_set_location(e.loc)}function s(e,t){var r=t?e.attr("href"):"#"+e.parent().data("id"),i=r.indexOf("#");return!!(i>=0&&r.length>1&&trx_addons_is_local_link(r))&&(o=!0,setTimeout(function(){o=!1},trx_addons_browser_is_ios()?1200:100),trx_addons_document_animate_to(r.substr(i),function(){if(1==TRX_ADDONS_STORAGE.update_location_from_anchor){var e=window.location.href,t=e.indexOf("#");t>0&&(e=e.substring(0,t)),trx_addons_document_set_location(0==i?e+r:r)}}),!0)}var n=jQuery("#toc_menu");if(0==n.length&&function(){var e="",t=0;jQuery('[id^="toc_menu_"],.sc_anchor').each(function(r){var i=jQuery(this),s=i.attr("id")||("sc_anchor_"+Math.random()).replace(".",""),n=i.parents(".wpb_row");0==n.length&&(n=i.parent());var a=n.length>0&&void 0!=n.attr("id")&&""!=n.attr("id")?n.attr("id"):"",o=a||s.substr(10);n.length>0&&""==a&&n.attr("id",o);var d=i.data("url"),l=i.data("icon")||"toc_menu_icon_default",c=i.attr("title"),u=i.data("description"),_=i.data("separator");t++,e+='<div class="toc_menu_item'+("yes"==_?" toc_menu_separator":"")+'" data-id="'+o+'">'+(c||u?'<a href="'+(d||"#"+o)+'" class="toc_menu_description">'+(c?'<span class="toc_menu_description_title">'+c+"</span>":"")+(u?'<span class="toc_menu_description_text">'+u+"</span>":"")+"</a>":"")+'<a href="'+(d||"#"+o)+'" class="toc_menu_icon '+l+'"></a></div>'}),t>0&&jQuery("body").append('<div id="toc_menu" class="toc_menu"><div class="toc_menu_inner">'+e+"</div></div>")}(),n=jQuery("#toc_menu:not(.inited)"),0!=n.length){var a=n.addClass("inited").find(".toc_menu_item");r();var o=!1,d=0;if(jQuery(".toc_menu_item > a").on("click",function(e){if(s(jQuery(this),!0))return e.preventDefault(),!1}),jQuery(window).on("scroll",function(){i()}),i(),1==TRX_ADDONS_STORAGE.scroll_to_anchor){var l=!1;jQuery(document).on("action.stop_wheel_handlers",function(e){l=!0}),jQuery(document).on("action.start_wheel_handlers",function(e){l=!1}),jQuery(window).bind("mousewheel DOMMouseScroll",function(e){if(!(screen.width<960||jQuery(window).width()<960||l||trx_addons_browser_is_ios())){if(o||d==e.timeStamp)return e.preventDefault(),!1;d=e.timeStamp;var t=e.originalEvent.wheelDelta>0||e.originalEvent.detail<0?-1:1,i=r(),n=!1,c=parseInt(jQuery(window).scrollTop()),u=jQuery(window).height(),_=jQuery("#wpadminbar").length>0?jQuery("#wpadminbar").height():0;return-1==t?(n=!0,setTimeout(function(){i.prev>=0&&i.prevOffset>=c-u-_?s(a.eq(i.prev).find("a"),!1):trx_addons_document_animate_to(Math.max(0,c-u))},10)):(n=!0,setTimeout(function(){i.next>=0&&i.nextOffset<=c+u+_?s(a.eq(i.next).find("a"),!1):trx_addons_document_animate_to(Math.min(jQuery(document).height(),c+u))},10)),n?(o=!0,setTimeout(function(){o=!1},trx_addons_browser_is_ios()?1200:100),e.preventDefault(),!1):void 0}})}}}),jQuery(document).on("action.init_shortcodes",function(e,t){"use strict";function r(e){""!=e.val()?e.addClass("filled"):e.removeClass("filled")}function i(e){var t=e.attr("action");if(""==t)return!1;e.find("input").removeClass("trx_addons_error_field");var r=trx_addons_form_validate(e,{rules:[{field:"name",min_length:{value:1,message:TRX_ADDONS_STORAGE.msg_field_name_empty}},{field:"email",min_length:{value:1,message:TRX_ADDONS_STORAGE.msg_field_email_empty},mask:{value:TRX_ADDONS_STORAGE.email_mask,message:TRX_ADDONS_STORAGE.msg_field_email_not_valid}},{field:"message",min_length:{value:1,message:TRX_ADDONS_STORAGE.msg_field_text_empty}}]});return r||"#"==t||jQuery.post(t,{action:"send_sc_form",nonce:TRX_ADDONS_STORAGE.ajax_nonce,data:e.serialize()}).done(function(t){var r={};try{r=JSON.parse(t)}catch(e){r={error:TRX_ADDONS_STORAGE.msg_ajax_error},console.log(t)}var i=e.find(".trx_addons_message_box").toggleClass("trx_addons_message_box_error",!1).toggleClass("trx_addons_message_box_success",!1);""===r.error?(e.get(0).reset(),i.addClass("trx_addons_message_box_success").html(TRX_ADDONS_STORAGE.msg_send_complete)):i.addClass("trx_addons_message_box_error").html(TRX_ADDONS_STORAGE.msg_send_error+" "+r.error),i.fadeIn().delay(3e3).fadeOut()}),!r}t.find(".sc_form_form:not(.sc_form_custom):not(.inited)").length>0&&t.find(".sc_form_form:not(.sc_form_custom):not(.inited)").addClass("inited").submit(function(e){return i(jQuery(this)),e.preventDefault(),!1}),jQuery('[class*="sc_input_hover_"] input, [class*="sc_input_hover_"] textarea').each(function(){r(jQuery(this))}),jQuery('[class*="sc_input_hover_"] input, [class*="sc_input_hover_"] textarea').on("blur change",function(){r(jQuery(this))}),jQuery("input, textarea, select").on("change",function(){jQuery(this).removeClass("trx_addons_field_error")})}),function(){"use strict";function e(e,r){void 0===r&&(r=jQuery("body")),r.find(".sc_googlemap:not(.inited)").length>0&&r.find(".sc_googlemap:not(.inited)").each(function(){if(!(jQuery(this).parents("div:hidden,article:hidden").length>0)){var e=jQuery(this).addClass("inited"),r=e.attr("id"),i=e.data("zoom"),s=e.data("style"),n=e.data("cluster-icon"),a=[];e.find(".sc_googlemap_marker").each(function(){var e=jQuery(this);a.push({icon:e.data("icon"),address:e.data("address"),latlng:e.data("latlng"),description:e.data("description"),title:e.data("title")})}),t(jQuery("#"+r).get(0),{style:s,zoom:i,cluster_icon:n,markers:a})}})}function t(e,t){a.inited||n();var i=e.id;a.maps[i]={dom:e,markers:t.markers,geocoder_request:!1,cluster:null,clusterIcon:t.cluster_icon,opt:{center:null,scrollwheel:!1,scaleControl:!1,disableDefaultUI:!1,zoom:t.zoom,zoomControl:!0,panControl:!0,mapTypeControl:!1,streetViewControl:!1,overviewMapControl:!1,styles:TRX_ADDONS_STORAGE.googlemap_styles[t.style?t.style:"default"],mapTypeId:google.maps.MapTypeId.ROADMAP}},r(i)}function r(e){a.maps[e].map=new google.maps.Map(a.maps[e].dom,a.maps[e].opt),a.maps[e].opt.zoom<1?a.maps[e].bounds=new google.maps.LatLngBounds:a.maps[e].map.setZoom(a.maps[e].opt.zoom);for(var t in a.maps[e].markers)a.maps[e].markers[t].inited=!1;i(e),jQuery(document).on("action.resize_trx_addons",function(){a.maps[e].map&&a.maps[e].map.setCenter(a.maps[e].opt.center)})}function i(e){var t=0;for(var r in a.maps[e].markers)if(a.maps[e].markers[r].inited)t++;else if(""==a.maps[e].markers[r].latlng){if(!1!==a.maps[e].geocoder_request)continue;a.geocoder||(a.geocoder=new google.maps.Geocoder),a.maps[e].geocoder_request=r,a.geocoder.geocode({address:a.maps[e].markers[r].address},function(t,r){if(r==google.maps.GeocoderStatus.OK){var s=a.maps[e].geocoder_request;t[0].geometry.location.lat&&t[0].geometry.location.lng?a.maps[e].markers[s].latlng=t[0].geometry.location.lat()+","+t[0].geometry.location.lng():a.maps[e].markers[s].latlng=t[0].geometry.location.toString().replace(/\(\)/g,""),a.maps[e].geocoder_request=!1,setTimeout(function(){i(e)},200)}else dcl(TRX_ADDONS_STORAGE.msg_sc_googlemap_geocoder_error+" "+r)})}else{var n=a.maps[e].markers[r].latlng.split(","),o={map:a.maps[e].map,position:new google.maps.LatLng(n[0],n[1]),clickable:""!=a.maps[e].markers[r].description};a.maps[e].markers[r].icon&&(o.icon=a.maps[e].markers[r].icon),a.maps[e].markers[r].title&&(o.title=a.maps[e].markers[r].title),a.maps[e].markers[r].marker=new google.maps.Marker(o),null==a.maps[e].opt.center&&(a.maps[e].opt.center=o.position,a.maps[e].map.setCenter(a.maps[e].opt.center)),""!=a.maps[e].markers[r].description&&(a.maps[e].markers[r].infowindow=new google.maps.InfoWindow({content:a.maps[e].markers[r].description}),google.maps.event.addListener(a.maps[e].markers[r].marker,"click",function(t){var r=t.latLng.toString().replace("(","").replace(")","").replace(" ","");for(var i in a.maps[e].markers)if(s(r,a.maps[e].markers[i].latlng)){a.maps[e].markers[i].infowindow.open(a.maps[e].map,a.maps[e].markers[i].marker);break}})),a.maps[e].markers[r].inited=!0,t++,a.maps[e].opt.zoom<1&&a.maps[e].bounds.extend(o.position)}if(t>1&&t==a.maps[e].markers.length){var d=[];for(r in a.maps[e].markers)d.push(a.maps[e].markers[r].marker);a.maps[e].cluster=new MarkerClusterer(a.maps[e].map,d,{maxZoom:18,gridSize:60,styles:[{url:a.maps[e].clusterIcon,width:48,height:48,textColor:"#fff"}]}),a.maps[e].opt.zoom<1&&a.maps[e].map.fitBounds(a.maps[e].bounds)}}function s(e,t){var e=e.replace(/\s/g,"",e).split(","),t=t.replace(/\s/g,"",t).split(","),r=Math.min(e[0].length,t[0].length),i=Math.min(e[1].length,t[1].length);return e[0].substring(0,r)==t[0].substring(0,r)&&e[1].substring(0,i)==t[1].substring(0,i)}function n(){TRX_ADDONS_STORAGE.googlemap_styles={default:[],greyscale:[{stylers:[{saturation:-100}]}],inverse:[{stylers:[{invert_lightness:!0},{visibility:"on"}]}],simple:[{stylers:[{hue:"#00ffe6"},{saturation:-20}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}]},jQuery(document).trigger("action.add_googlemap_styles"),a.inited=!0}var a={inited:!1,geocoder:null,maps:[]};jQuery(document).on("action.init_hidden_elements",e),jQuery(document).on("action.init_shortcodes",e)}(),ClusterIcon.prototype.onAdd=function(){var e,t,r=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),
this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){t=e}),google.maps.event.addDomListener(this.div_,"mousedown",function(){e=!0,t=!1}),google.maps.event.addDomListener(this.div_,"click",function(i){if(e=!1,!t){var s,n,a=r.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"click",r.cluster_),google.maps.event.trigger(a,"clusterclick",r.cluster_),a.getZoomOnClick()&&(n=a.getMaxZoom(),s=r.cluster_.getBounds(),a.getMap().fitBounds(s),setTimeout(function(){a.getMap().fitBounds(s),null!==n&&a.getMap().getZoom()>n&&a.getMap().setZoom(n+1)},100)),i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var e=r.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseover",r.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var e=r.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseout",r.cluster_)})},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),r=parseInt(t[0].trim(),10),i=parseInt(t[1].trim(),10),s=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(s),e="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+r+"px; ",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(e+="clip: rect("+-1*i+"px, "+(-1*r+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*r+"px);"),e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",void 0===this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.useStyle=function(e){this.sums_=e;var t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t);var r=this.styles_[t];this.url_=r.url,this.height_=r.height,this.width_=r.width,this.anchorText_=r.anchorText||[0,0],this.anchorIcon_=r.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=r.textColor||"black",this.textSize_=r.textSize||11,this.textDecoration_=r.textDecoration||"none",this.fontWeight_=r.fontWeight||"bold",this.fontStyle_=r.fontStyle||"normal",this.fontFamily_=r.fontFamily||"Arial,sans-serif",this.backgroundPosition_=r.backgroundPosition||"0 0"},ClusterIcon.prototype.setCenter=function(e){this.center_=e},ClusterIcon.prototype.createCss=function(e){var t=[];return t.push("cursor: pointer;"),t.push("position: absolute; top: "+e.y+"px; left: "+e.x+"px;"),t.push("width: "+this.width_+"px; height: "+this.height_+"px;"),t.join("")},ClusterIcon.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){var e,t=new google.maps.LatLngBounds(this.center_,this.center_),r=this.getMarkers();for(e=0;e<r.length;e++)t.extend(r[e].getPosition());return t},Cluster.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},Cluster.prototype.addMarker=function(e){var t,r,i;if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){var s=this.markers_.length+1,n=(this.center_.lat()*(s-1)+e.getPosition().lat())/s,a=(this.center_.lng()*(s-1)+e.getPosition().lng())/s;this.center_=new google.maps.LatLng(n,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();if(e.isAdded=!0,this.markers_.push(e),r=this.markers_.length,null!==(i=this.markerClusterer_.getMaxZoom())&&this.map_.getZoom()>i)e.getMap()!==this.map_&&e.setMap(this.map_);else if(r<this.minClusterSize_)e.getMap()!==this.map_&&e.setMap(this.map_);else if(r===this.minClusterSize_)for(t=0;t<r;t++)this.markers_[t].setMap(null);else e.setMap(null);return this.updateIcon_(),!0},Cluster.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},Cluster.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},Cluster.prototype.updateIcon_=function(){var e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(null!==t&&this.map_.getZoom()>t)return void this.clusterIcon_.hide();if(e<this.minClusterSize_)return void this.clusterIcon_.hide();var r=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,r);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(i),this.clusterIcon_.show()},Cluster.prototype.isMarkerAlreadyAdded_=function(e){var t;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(e);for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t])return!0;return!1},MarkerClusterer.prototype.onAdd=function(){var e=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){e.resetViewport_(!1),this.getZoom()!==(this.get("minZoom")||0)&&this.getZoom()!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){e.redraw_()})]},MarkerClusterer.prototype.onRemove=function(){var e;for(e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){var e,t;if(!(this.styles_.length>0))for(e=0;e<this.imageSizes_.length;e++)t=this.imageSizes_[e],this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},MarkerClusterer.prototype.fitMapToMarkers=function(){var e,t=this.getMarkers(),r=new google.maps.LatLngBounds;for(e=0;e<t.length;e++)r.extend(t[e].getPosition());this.getMap().fitBounds(r)},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(e){this.gridSize_=e},MarkerClusterer.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinimumClusterSize=function(e){this.minClusterSize_=e},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.setMaxZoom=function(e){this.maxZoom_=e},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.setStyles=function(e){this.styles_=e},MarkerClusterer.prototype.getTitle=function(){return this.title_},MarkerClusterer.prototype.setTitle=function(e){this.title_=e},MarkerClusterer.prototype.getZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.setZoomOnClick=function(e){this.zoomOnClick_=e},MarkerClusterer.prototype.getAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.setAverageCenter=function(e){this.averageCenter_=e},MarkerClusterer.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},MarkerClusterer.prototype.setIgnoreHidden=function(e){this.ignoreHidden_=e},MarkerClusterer.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},MarkerClusterer.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons_=e},MarkerClusterer.prototype.getImageExtension=function(){return this.imageExtension_},MarkerClusterer.prototype.setImageExtension=function(e){this.imageExtension_=e},MarkerClusterer.prototype.getImagePath=function(){return this.imagePath_},MarkerClusterer.prototype.setImagePath=function(e){this.imagePath_=e},MarkerClusterer.prototype.getImageSizes=function(){return this.imageSizes_},MarkerClusterer.prototype.setImageSizes=function(e){this.imageSizes_=e},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.setCalculator=function(e){this.calculator_=e},MarkerClusterer.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},MarkerClusterer.prototype.setBatchSizeIE=function(e){this.batchSizeIE_=e},MarkerClusterer.prototype.getClusterClass=function(){return this.clusterClass_},MarkerClusterer.prototype.setClusterClass=function(e){this.clusterClass_=e},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.getClusters=function(){return this.clusters_},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw_()},MarkerClusterer.prototype.addMarkers=function(e,t){var r;for(r in e)e.hasOwnProperty(r)&&this.pushMarkerTo_(e[r]);t||this.redraw_()},MarkerClusterer.prototype.pushMarkerTo_=function(e){if(e.getDraggable()){var t=this;google.maps.event.addListener(e,"dragend",function(){t.ready_&&(this.isAdded=!1,t.repaint())})}e.isAdded=!1,this.markers_.push(e)},MarkerClusterer.prototype.removeMarker=function(e,t){var r=this.removeMarker_(e);return!t&&r&&this.repaint(),r},MarkerClusterer.prototype.removeMarkers=function(e,t){var r,i,s=!1;for(r=0;r<e.length;r++)i=this.removeMarker_(e[r]),s=s||i;return!t&&s&&this.repaint(),s},MarkerClusterer.prototype.removeMarker_=function(e){var t,r=-1;if(this.markers_.indexOf)r=this.markers_.indexOf(e);else for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t]){r=t;break}return-1!==r&&(e.setMap(null),this.markers_.splice(r,1),!0)},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},MarkerClusterer.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var t;for(t=0;t<e.length;t++)e[t].remove()},0)},MarkerClusterer.prototype.getExtendedBounds=function(e){var t=this.getProjection(),r=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),i=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),s=t.fromLatLngToDivPixel(r);s.x+=this.gridSize_,s.y-=this.gridSize_;var n=t.fromLatLngToDivPixel(i);n.x-=this.gridSize_,n.y+=this.gridSize_;var a=t.fromDivPixelToLatLng(s),o=t.fromDivPixelToLatLng(n);return e.extend(a),e.extend(o),e},MarkerClusterer.prototype.redraw_=function(){this.createClusters_(0)},MarkerClusterer.prototype.resetViewport_=function(e){var t,r;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)r=this.markers_[t],r.isAdded=!1,e&&r.setMap(null)},MarkerClusterer.prototype.distanceBetweenPoints_=function(e,t){var r=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371},MarkerClusterer.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},MarkerClusterer.prototype.addToClosestCluster_=function(e){var t,r,i,s,n=4e4,a=null;for(t=0;t<this.clusters_.length;t++)i=this.clusters_[t],(s=i.getCenter())&&(r=this.distanceBetweenPoints_(s,e.getPosition()))<n&&(n=r,a=i);a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(i=new Cluster(this),i.addMarker(e),this.clusters_.push(i))},MarkerClusterer.prototype.createClusters_=function(e){var t,r,i,s=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var n=this.getExtendedBounds(i),a=Math.min(e+this.batchSize_,this.markers_.length);for(t=e;t<a;t++)r=this.markers_[t],!r.isAdded&&this.isMarkerInBounds_(r,n)&&(!this.ignoreHidden_||this.ignoreHidden_&&r.getVisible())&&this.addToClosestCluster_(r);a<this.markers_.length?this.timerRefStatic=setTimeout(function(){s.createClusters_(a)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},MarkerClusterer.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},MarkerClusterer.CALCULATOR=function(e,t){for(var r=0,i=e.length.toString(),s=i;0!==s;)s=parseInt(s/10,10),r++;return r=Math.min(r,t),{text:i,index:r,title:""}},MarkerClusterer.BATCH_SIZE=2e3,MarkerClusterer.BATCH_SIZE_IE=500,MarkerClusterer.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",MarkerClusterer.IMAGE_EXTENSION="png",MarkerClusterer.IMAGE_SIZES=[53,56,66,78,90],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(e,t){"use strict";function r(r){if(void 0===r)throw new Error('Pathformer [constructor]: "element" parameter is required');if(r.constructor===String&&!(r=t.getElementById(r)))throw new Error('Pathformer [constructor]: "element" parameter is not related to an existing ID');if(!(r.constructor instanceof e.SVGElement||/^svg$/i.test(r.nodeName)))throw new Error('Pathformer [constructor]: "element" parameter must be a string or a SVGelement');this.el=r,this.scan(r)}function i(e,t,r){this.isReady=!1,this.setElement(e,t),this.setOptions(t),this.setCallback(r),this.isReady&&this.init()}r.prototype.TYPES=["line","ellipse","circle","polygon","polyline","rect"],r.prototype.ATTR_WATCH=["cx","cy","points","r","rx","ry","x","x1","x2","y","y1","y2"],r.prototype.scan=function(e){for(var t,r,i,s,n=e.querySelectorAll(this.TYPES.join(",")),a=0;a<n.length;a++)r=n[a],t=this[r.tagName.toLowerCase()+"ToPath"],i=t(this.parseAttr(r.attributes)),s=this.pathMaker(r,i),r.parentNode.replaceChild(s,r)},r.prototype.lineToPath=function(e){var t={};return t.d="M"+e.x1+","+e.y1+"L"+e.x2+","+e.y2,t},r.prototype.rectToPath=function(e){var t={},r=parseFloat(e.x)||0,i=parseFloat(e.y)||0,s=parseFloat(e.width)||0,n=parseFloat(e.height)||0;return t.d="M"+r+" "+i+" ",t.d+="L"+(r+s)+" "+i+" ",t.d+="L"+(r+s)+" "+(i+n)+" ",t.d+="L"+r+" "+(i+n)+" Z",t},r.prototype.polylineToPath=function(e){var t,r,i={},s=e.points.trim().split(" ");if(-1===e.points.indexOf(",")){var n=[];for(t=0;t<s.length;t+=2)n.push(s[t]+","+s[t+1]);s=n}for(r="M"+s[0],t=1;t<s.length;t++)-1!==s[t].indexOf(",")&&(r+="L"+s[t]);return i.d=r,i},r.prototype.polygonToPath=function(e){var t=r.prototype.polylineToPath(e);return t.d+="Z",t},r.prototype.ellipseToPath=function(e){var t=e.cx-e.rx,r=e.cy,i=parseFloat(e.cx)+parseFloat(e.rx),s=e.cy,n={};return n.d="M"+t+","+r+"A"+e.rx+","+e.ry+" 0,1,1 "+i+","+s+"A"+e.rx+","+e.ry+" 0,1,1 "+t+","+s,n},r.prototype.circleToPath=function(e){var t={},r=e.cx-e.r,i=e.cy,s=parseFloat(e.cx)+parseFloat(e.r),n=e.cy;return t.d="M"+r+","+i+"A"+e.r+","+e.r+" 0,1,1 "+s+","+n+"A"+e.r+","+e.r+" 0,1,1 "+r+","+n,t},r.prototype.pathMaker=function(e,r){var i,s,n=t.createElementNS("http://www.w3.org/2000/svg","path");for(i=0;i<e.attributes.length;i++)s=e.attributes[i],-1===this.ATTR_WATCH.indexOf(s.name)&&n.setAttribute(s.name,s.value);for(i in r)n.setAttribute(i,r[i]);return n},r.prototype.parseAttr=function(e){for(var t,r={},i=0;i<e.length;i++){if(t=e[i],-1!==this.ATTR_WATCH.indexOf(t.name)&&-1!==t.value.indexOf("%"))throw new Error("Pathformer [parseAttr]: a SVG shape got values in percentage. This cannot be transformed into 'path' tags. Please use 'viewBox'.");r[t.name]=t.value}return r};var s,n,a;i.LINEAR=function(e){return e},i.EASE=function(e){return-Math.cos(e*Math.PI)/2+.5},i.EASE_OUT=function(e){return 1-Math.pow(1-e,3)},i.EASE_IN=function(e){return Math.pow(e,3)},i.EASE_OUT_BOUNCE=function(e){var t=1-Math.cos(e*(.5*Math.PI)),r=Math.pow(t,1.5),i=Math.pow(1-e,2);return 1-i+(1-Math.abs(Math.cos(r*(2.5*Math.PI))))*i},i.prototype.setElement=function(r,i){if(void 0===r)throw new Error('Vivus [constructor]: "element" parameter is required');if(r.constructor===String&&!(r=t.getElementById(r)))throw new Error('Vivus [constructor]: "element" parameter is not related to an existing ID');if(this.parentEl=r,i&&i.file){var s=t.createElement("object");s.setAttribute("type","image/svg+xml"),s.setAttribute("data",i.file),s.setAttribute("built-by-vivus","true"),r.appendChild(s),r=s}switch(r.constructor){case e.SVGSVGElement:case e.SVGElement:this.el=r,this.isReady=!0;break;case e.HTMLObjectElement:var n,a;a=this,n=function(e){if(!a.isReady){if(a.el=r.contentDocument&&r.contentDocument.querySelector("svg"),!a.el&&e)throw new Error("Vivus [constructor]: object loaded does not contain any SVG");return a.el?(r.getAttribute("built-by-vivus")&&(a.parentEl.insertBefore(a.el,r),a.parentEl.removeChild(r),a.el.setAttribute("width","100%"),a.el.setAttribute("height","100%")),a.isReady=!0,a.init(),!0):void 0}},n()||r.addEventListener("load",n);break;default:throw new Error('Vivus [constructor]: "element" parameter is not valid (or miss the "file" attribute)')}},i.prototype.setOptions=function(t){var r=["delayed","async","oneByOne","scenario","scenario-sync"],s=["inViewport","manual","autostart"];if(void 0!==t&&t.constructor!==Object)throw new Error('Vivus [constructor]: "options" parameter must be an object');if(t=t||{},t.type&&-1===r.indexOf(t.type))throw new Error("Vivus [constructor]: "+t.type+" is not an existing animation `type`");if(this.type=t.type||r[0],t.start&&-1===s.indexOf(t.start))throw new Error("Vivus [constructor]: "+t.start+" is not an existing `start` option");if(this.start=t.start||s[0],this.isIE=-1!==e.navigator.userAgent.indexOf("MSIE")||-1!==e.navigator.userAgent.indexOf("Trident/")||-1!==e.navigator.userAgent.indexOf("Edge/"),this.duration=a(t.duration,120),this.delay=a(t.delay,null),this.dashGap=a(t.dashGap,1),this.forceRender=t.hasOwnProperty("forceRender")?!!t.forceRender:this.isIE,this.selfDestroy=!!t.selfDestroy,this.onReady=t.onReady,this.frameLength=this.currentFrame=this.map=this.delayUnit=this.speed=this.handle=null,this.ignoreInvisible=!!t.hasOwnProperty("ignoreInvisible")&&!!t.ignoreInvisible,this.animTimingFunction=t.animTimingFunction||i.LINEAR,this.pathTimingFunction=t.pathTimingFunction||i.LINEAR,this.delay>=this.duration)throw new Error("Vivus [constructor]: delay must be shorter than duration")},i.prototype.setCallback=function(e){if(e&&e.constructor!==Function)throw new Error('Vivus [constructor]: "callback" parameter must be a function');this.callback=e||function(){}},i.prototype.mapping=function(){var t,r,i,s,n,o,d,l;for(l=o=d=0,r=this.el.querySelectorAll("path"),t=0;t<r.length;t++)i=r[t],this.isInvisible(i)||(n={el:i,length:Math.ceil(i.getTotalLength())},isNaN(n.length)?e.console&&console.warn&&console.warn("Vivus [mapping]: cannot retrieve a path element length",i):(this.map.push(n),i.style.strokeDasharray=n.length+" "+(n.length+2*this.dashGap),i.style.strokeDashoffset=n.length+this.dashGap,n.length+=this.dashGap,o+=n.length,this.renderPath(t)));for(o=0===o?1:o,this.delay=null===this.delay?this.duration/3:this.delay,this.delayUnit=this.delay/(r.length>1?r.length-1:1),t=0;t<this.map.length;t++){switch(n=this.map[t],this.type){case"delayed":n.startAt=this.delayUnit*t,n.duration=this.duration-this.delay;break;case"oneByOne":n.startAt=d/o*this.duration,n.duration=n.length/o*this.duration;break;case"async":n.startAt=0,n.duration=this.duration;break;case"scenario-sync":i=n.el,s=this.parseAttr(i),n.startAt=l+(a(s["data-delay"],this.delayUnit)||0),n.duration=a(s["data-duration"],this.duration),l=void 0!==s["data-async"]?n.startAt:n.startAt+n.duration,this.frameLength=Math.max(this.frameLength,n.startAt+n.duration);break;case"scenario":i=n.el,s=this.parseAttr(i),n.startAt=a(s["data-start"],this.delayUnit)||0,n.duration=a(s["data-duration"],this.duration),this.frameLength=Math.max(this.frameLength,n.startAt+n.duration)}d+=n.length,this.frameLength=this.frameLength||this.duration}},i.prototype.drawer=function(){var e=this;this.currentFrame+=this.speed,this.currentFrame<=0?(this.stop(),this.reset(),this.callback(this)):this.currentFrame>=this.frameLength?(this.stop(),this.currentFrame=this.frameLength,this.trace(),this.selfDestroy&&this.destroy(),this.callback(this)):(this.trace(),this.handle=s(function(){e.drawer()}))},i.prototype.trace=function(){var e,t,r,i;for(i=this.animTimingFunction(this.currentFrame/this.frameLength)*this.frameLength,e=0;e<this.map.length;e++)r=this.map[e],t=(i-r.startAt)/r.duration,t=this.pathTimingFunction(Math.max(0,Math.min(1,t))),r.progress!==t&&(r.progress=t,r.el.style.strokeDashoffset=Math.floor(r.length*(1-t)),this.renderPath(e))},i.prototype.renderPath=function(e){if(this.forceRender&&this.map&&this.map[e]){var t=this.map[e],r=t.el.cloneNode(!0);t.el.parentNode.replaceChild(r,t.el),t.el=r}},i.prototype.init=function(){this.frameLength=0,this.currentFrame=0,this.map=[],new r(this.el),this.mapping(),this.starter(),this.onReady&&this.onReady(this)},i.prototype.starter=function(){switch(this.start){case"manual":return;case"autostart":this.play();break;case"inViewport":var t=this,r=function(){t.isInViewport(t.parentEl,1)&&(t.play(),e.removeEventListener("scroll",r))};e.addEventListener("scroll",r),r()}},i.prototype.getStatus=function(){return 0===this.currentFrame?"start":this.currentFrame===this.frameLength?"end":"progress"},i.prototype.reset=function(){return this.setFrameProgress(0)},i.prototype.finish=function(){return this.setFrameProgress(1)},i.prototype.setFrameProgress=function(e){return e=Math.min(1,Math.max(0,e)),this.currentFrame=Math.round(this.frameLength*e),this.trace(),this},i.prototype.play=function(e){if(e&&"number"!=typeof e)throw new Error("Vivus [play]: invalid speed");return this.speed=e||1,this.handle||this.drawer(),this},i.prototype.stop=function(){return this.handle&&(n(this.handle),this.handle=null),this},i.prototype.destroy=function(){this.stop();var e,t;for(e=0;e<this.map.length;e++)t=this.map[e],t.el.style.strokeDashoffset=null,t.el.style.strokeDasharray=null,this.renderPath(e)},i.prototype.isInvisible=function(e){var t,r=e.getAttribute("data-ignore");return null!==r?"false"!==r:!!this.ignoreInvisible&&(t=e.getBoundingClientRect(),!t.width&&!t.height)},i.prototype.parseAttr=function(e){var t,r={};if(e&&e.attributes)for(var i=0;i<e.attributes.length;i++)t=e.attributes[i],r[t.name]=t.value;return r},i.prototype.isInViewport=function(e,t){var r=this.scrollY(),i=r+this.getViewportH(),s=e.getBoundingClientRect(),n=s.height,a=r+s.top,o=a+n;return t=t||0,a+n*t<=i&&o>=r},i.prototype.docElem=e.document.documentElement,i.prototype.getViewportH=function(){var t=this.docElem.clientHeight,r=e.innerHeight;return t<r?r:t},i.prototype.scrollY=function(){return e.pageYOffset||this.docElem.scrollTop},s=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){return e.setTimeout(t,1e3/60)}}(),n=function(){return e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||function(t){return e.clearTimeout(t)}}(),a=function(e,t){var r=parseInt(e,10);return r>=0?r:t},"function"==typeof define&&define.amd?define([],function(){return i}):"object"==typeof exports?module.exports=i:e.Vivus=i}(window,document),jQuery(document).on("action.init_shortcodes",function(e,t){"use strict";var r=50;t.find(".sc_icon_type_svg:not(.inited)").each(function(e){var t=jQuery(this),i=t.addClass("inited").attr("id");void 0===i?(i="sc_icons_"+Math.random(),i=i.replace(".","")):i+="_"+e,t.find("svg").attr("id",i),setTimeout(function(){t.css("visibility","visible");var e=new Vivus(i,{type:"async",duration:20});t.data("svg_obj",e),t.parent().hover(function(){t.data("svg_obj").reset().play()},function(){})},r),r+=300})}),jQuery(document).on("action.init_shortcodes",function(e,t){"use strict";jQuery(".sc_popup:not(.inited)").each(function(){var e=jQuery(this).attr("id");e&&(jQuery('a[href="#'+e+'"]').addClass("trx_addons_popup_link"),jQuery(this).addClass("inited"))})}),function(){"use strict";function e(e,r){void 0===r&&(r=jQuery("body"));var i=jQuery(window).scrollTop()+jQuery(window).height();r.find(".sc_skills_item:not(.inited)").each(function(){var e=jQuery(this);if(!(jQuery(this).parents("div:hidden,article:hidden").length>0)){var r=e.offset().top;if(i>r){var s=!0,n=e.parents(".sc_skills").eq(0),a=n.data("type"),o="pie"==a&&n.hasClass("sc_skills_compact_on")?e.find(".sc_skills_data .pie"):e.find(".sc_skills_total").eq(0),d=parseFloat(o.data("start")),l=parseFloat(o.data("stop")),c=parseInt(o.data("max")),u=Math.round(d/c*100),_=Math.round(l/c*100),h=o.data("ed"),p=parseInt(o.data("speed")),m=d!=parseInt(d)||l!=parseInt(l)?parseFloat(o.data("step")):parseInt(o.data("step")),f=parseInt(o.data("duration"));if(isNaN(f)&&(f=Math.ceil(c/m)*p),"bar"==a){var g=n.data("dir"),v=e.find(".sc_skills_count").eq(0);"horizontal"==g?v.css("width",u+"%").animate({width:_+"%"},f):"vertical"==g&&v.css("height",u+"%").animate({height:_+"%"},f),t(d,l,p,m,h,o)}else if("counter"==a)t(d,l,p,m,h,o);else if("pie"==a)if(window.Chart){var y=parseInt(o.data("steps")),w=o.data("bg_color"),x=o.data("border_color"),b=parseInt(o.data("cutout")),C=o.data("easing"),j={segmentShowStroke:""!=x,segmentStrokeColor:x,segmentStrokeWidth:""!=x?1:0,percentageInnerCutout:b,animation:0==e.parents('.vc_row[data-vc-full-width="true"]').length,animationSteps:y,animationEasing:C,animateRotate:!0,animateScale:0==e.parents('.vc_row[data-vc-full-width="true"]').length},k=[];o.each(function(){var e=jQuery(this).data("color"),t=parseInt(jQuery(this).data("stop")),r=Math.round(t/c*100);k.push({value:r,color:e})}),1==o.length&&(t(d,l,Math.round(1500/y),m,h,o),k.push({value:100-_,color:w}));var Q=e.find("canvas");Q.data("pie-data",k).data("pie-options",j).attr({width:e.width(),height:e.width()}).css({width:e.width(),height:e.height()}),new Chart(Q.get(0).getContext("2d")).Doughnut(k,j)}else s=!1;s&&e.addClass("inited")}}})}function t(e,r,i,s,n,a){e=Math.min(r,e+s),a.text(e+n),e<r&&setTimeout(function(){t(e,r,i,s,n,a)},i)}function r(){jQuery(".sc_skills_pie canvas").each(function(){var e=jQuery(this);if(!(e.parents("div:hidden,article:hidden").length>0)){var t=e.parent();if(t.width()!=e.width()){var r=e.data("pie-data"),i=e.data("pie-options");if(void 0===r||void 0===i)return;e.empty().attr({width:t.width(),height:t.width()}).css({width:t.width(),height:t.height()}),i.animation=!1,new Chart(e.get(0).getContext("2d")).Doughnut(r,i)}}})}jQuery(document).on("action.init_hidden_elements",e),jQuery(document).on("action.init_shortcodes",e),jQuery(document).on("action.scroll_trx_addons",e),jQuery(document).on("action.resize_trx_addons",r)}(),jQuery(document).on("action.ready_trx_addons",function(){"use strict";function e(){var e=jQuery("body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories ul.product-categories"),t=e.parents(".widget_area");t.length>0&&e.length>0&&(t.width()==t.parents(".content_wrap").width()?e.hasClass("inited")&&(e.removeClass("inited").addClass("plain").superfish("destroy"),e.find("ul.animated").removeClass("animated").addClass("no_animated")):e.hasClass("inited")||(e.removeClass("plain").addClass("inited"),e.find("ul.no_animated").removeClass("no_animated").addClass("animated"),trx_addons_init_sfmenu("body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories ul.product-categories")))}function t(e,t){setTimeout(function(){void 0==t&&(t=""),e.find(".variations select").each(function(){var e=jQuery(this),r=1==e.siblings(".trx_addons_attrib_extended").length?e.siblings(".trx_addons_attrib_extended"):e.parent().siblings(".trx_addons_attrib_extended");e.attr("id")!=t&&e.trigger("touchstart"),r.find(".trx_addons_attrib_item").removeClass("trx_addons_attrib_selected").addClass("trx_addons_attrib_disabled"),e.find("option").each(function(){r.find('.trx_addons_attrib_item[data-value="'+jQuery(this).val()+'"]').removeClass("trx_addons_attrib_disabled").toggleClass("trx_addons_attrib_selected",jQuery(this).get(0).selected)})})},10)}jQuery("body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories ul.product-categories .has_children > a").append('<span class="open_child_menu"></span>'),jQuery("body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories").on("click","ul.product-categories.plain li a .open_child_menu",function(e){var t=jQuery(this).parent();return t.siblings("ul:visible").length>0?t.siblings("ul").slideUp().parent().removeClass("opened"):(jQuery(this).parents("li").siblings("li").find("ul:visible").slideUp().parent().removeClass("opened"),t.siblings("ul").slideDown().parent().addClass("opened")),e.preventDefault(),!1}),jQuery(document).on("action.resize_trx_addons",function(){e()}),e(),jQuery(".variations_form.cart:not(.inited)").each(function(){var e=jQuery(this).addClass("inited"),r=e.find(".trx_addons_attrib_item");if(0!=r.length){r.on("click",function(r){if(!jQuery(this).hasClass("trx_addons_attrib_disabled")){jQuery(this).addClass("trx_addons_attrib_selected").siblings().removeClass("trx_addons_attrib_selected");var i=jQuery(this).data("value"),s=jQuery(this).parents(".trx_addons_attrib_extended").data("attrib"),n=jQuery(this).parents(".trx_addons_attrib_extended").parent().find("#"+s).trigger("touchstart");n.find("option:selected").removeAttr("selected"),n.find('option[value="'+i+'"]').attr("selected","selected"),n.trigger("change"),t(e)}return r.preventDefault(),!1});var i=!1;e.find(".variations select").on("click",function(r){i||(i=!0,t(e),i=!1)}),t(e)}})});usterer_},Cluster.prototype.getBounds=function(){var a,b=new google.maps.LatLngBounds(this.center_,this.center_),c=this.getMarkers();for(a=0;a<c.length;a++)b.extend(c[a].getPosition());return b},Cluster.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},Cluster.prototype.addMarker=function(a){var b,c,d;if(this.isMarkerAlreadyAdded_(a))return!1;if(this.center_){if(this.averageCenter_){var e=this.markers_.length+1,f=(this.center_.lat()*(e-1)+a.getPosition().lat())/e,g=(this.center_.lng()*(e-1)+a.getPosition().lng())/e;this.center_=new google.maps.LatLng(f,g),this.calculateBounds_()}}else this.center_=a.getPosition(),this.calculateBounds_();if(a.isAdded=!0,this.markers_.push(a),c=this.markers_.length,d=this.markerClusterer_.getMaxZoom(),null!==d&&this.map_.getZoom()>d)a.getMap()!==this.map_&&a.setMap(this.map_);else if(c<this.minClusterSize_)a.getMap()!==this.map_&&a.setMap(this.map_);else if(c===this.minClusterSize_)for(b=0;b<c;b++)this.markers_[b].setMap(null);else a.setMap(null);return this.updateIcon_(),!0},Cluster.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())},Cluster.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)},Cluster.prototype.updateIcon_=function(){var a=this.markers_.length,b=this.markerClusterer_.getMaxZoom();if(null!==b&&this.map_.getZoom()>b)return void this.clusterIcon_.hide();if(a<this.minClusterSize_)return void this.clusterIcon_.hide();var c=this.markerClusterer_.getStyles().length,d=this.markerClusterer_.getCalculator()(this.markers_,c);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(d),this.clusterIcon_.show()},Cluster.prototype.isMarkerAlreadyAdded_=function(a){var b;if(this.markers_.indexOf)return this.markers_.indexOf(a)!==-1;for(b=0;b<this.markers_.length;b++)if(a===this.markers_[b])return!0;return!1},MarkerClusterer.prototype.onAdd=function(){var a=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){a.resetViewport_(!1),this.getZoom()!==(this.get("minZoom")||0)&&this.getZoom()!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){a.redraw_()})]},MarkerClusterer.prototype.onRemove=function(){var a;for(a=0;a<this.markers_.length;a++)this.markers_[a].getMap()!==this.activeMap_&&this.markers_[a].setMap(this.activeMap_);for(a=0;a<this.clusters_.length;a++)this.clusters_[a].remove();for(this.clusters_=[],a=0;a<this.listeners_.length;a++)google.maps.event.removeListener(this.listeners_[a]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){var a,b;if(!(this.styles_.length>0))for(a=0;a<this.imageSizes_.length;a++)b=this.imageSizes_[a],this.styles_.push({url:this.imagePath_+(a+1)+"."+this.imageExtension_,height:b,width:b})},MarkerClusterer.prototype.fitMapToMarkers=function(){var a,b=this.getMarkers(),c=new google.maps.LatLngBounds;for(a=0;a<b.length;a++)c.extend(b[a].getPosition());this.getMap().fitBounds(c)},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(a){this.gridSize_=a},MarkerClusterer.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinimumClusterSize=function(a){this.minClusterSize_=a},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.setMaxZoom=function(a){this.maxZoom_=a},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.setStyles=function(a){this.styles_=a},MarkerClusterer.prototype.getTitle=function(){return this.title_},MarkerClusterer.prototype.setTitle=function(a){this.title_=a},MarkerClusterer.prototype.getZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.setZoomOnClick=function(a){this.zoomOnClick_=a},MarkerClusterer.prototype.getAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.setAverageCenter=function(a){this.averageCenter_=a},MarkerClusterer.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},MarkerClusterer.prototype.setIgnoreHidden=function(a){this.ignoreHidden_=a},MarkerClusterer.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},MarkerClusterer.prototype.setEnableRetinaIcons=function(a){this.enableRetinaIcons_=a},MarkerClusterer.prototype.getImageExtension=function(){return this.imageExtension_},MarkerClusterer.prototype.setImageExtension=function(a){this.imageExtension_=a},MarkerClusterer.prototype.getImagePath=function(){return this.imagePath_},MarkerClusterer.prototype.setImagePath=function(a){this.imagePath_=a},MarkerClusterer.prototype.getImageSizes=function(){return this.imageSizes_},MarkerClusterer.prototype.setImageSizes=function(a){this.imageSizes_=a},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.setCalculator=function(a){this.calculator_=a},MarkerClusterer.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},MarkerClusterer.prototype.setBatchSizeIE=function(a){this.batchSizeIE_=a},MarkerClusterer.prototype.getClusterClass=function(){return this.clusterClass_},MarkerClusterer.prototype.setClusterClass=function(a){this.clusterClass_=a},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.getClusters=function(){return this.clusters_},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.addMarker=function(a,b){this.pushMarkerTo_(a),b||this.redraw_()},MarkerClusterer.prototype.addMarkers=function(a,b){var c;for(c in a)a.hasOwnProperty(c)&&this.pushMarkerTo_(a[c]);b||this.redraw_()},MarkerClusterer.prototype.pushMarkerTo_=function(a){if(a.getDraggable()){var b=this;google.maps.event.addListener(a,"dragend",function(){b.ready_&&(this.isAdded=!1,b.repaint())})}a.isAdded=!1,this.markers_.push(a)},MarkerClusterer.prototype.removeMarker=function(a,b){var c=this.removeMarker_(a);return!b&&c&&this.repaint(),c},MarkerClusterer.prototype.removeMarkers=function(a,b){var c,d,e=!1;for(c=0;c<a.length;c++)d=this.removeMarker_(a[c]),e=e||d;return!b&&e&&this.repaint(),e},MarkerClusterer.prototype.removeMarker_=function(a){var b,c=-1;if(this.markers_.indexOf)c=this.markers_.indexOf(a);else for(b=0;b<this.markers_.length;b++)if(a===this.markers_[b]){c=b;break}return c!==-1&&(a.setMap(null),this.markers_.splice(c,1),!0)},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},MarkerClusterer.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var b;for(b=0;b<a.length;b++)a[b].remove()},0)},MarkerClusterer.prototype.getExtendedBounds=function(a){var b=this.getProjection(),c=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),d=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),e=b.fromLatLngToDivPixel(c);e.x+=this.gridSize_,e.y-=this.gridSize_;var f=b.fromLatLngToDivPixel(d);f.x-=this.gridSize_,f.y+=this.gridSize_;var g=b.fromDivPixelToLatLng(e),h=b.fromDivPixelToLatLng(f);return a.extend(g),a.extend(h),a},MarkerClusterer.prototype.redraw_=function(){this.createClusters_(0)},MarkerClusterer.prototype.resetViewport_=function(a){var b,c;for(b=0;b<this.clusters_.length;b++)this.clusters_[b].remove();for(this.clusters_=[],b=0;b<this.markers_.length;b++)c=this.markers_[b],c.isAdded=!1,a&&c.setMap(null)},MarkerClusterer.prototype.distanceBetweenPoints_=function(a,b){var c=6371,d=(b.lat()-a.lat())*Math.PI/180,e=(b.lng()-a.lng())*Math.PI/180,f=Math.sin(d/2)*Math.sin(d/2)+Math.cos(a.lat()*Math.PI/180)*Math.cos(b.lat()*Math.PI/180)*Math.sin(e/2)*Math.sin(e/2),g=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),h=c*g;return h},MarkerClusterer.prototype.isMarkerInBounds_=function(a,b){return b.contains(a.getPosition())},MarkerClusterer.prototype.addToClosestCluster_=function(a){var b,c,d,e,f=4e4,g=null;for(b=0;b<this.clusters_.length;b++)d=this.clusters_[b],e=d.getCenter(),e&&(c=this.distanceBetweenPoints_(e,a.getPosition()),c<f&&(f=c,g=d));g&&g.isMarkerInClusterBounds(a)?g.addMarker(a):(d=new Cluster(this),d.addMarker(a),this.clusters_.push(d))},MarkerClusterer.prototype.createClusters_=function(a){var b,c,d,e=this;if(this.ready_){0===a&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),d=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var f=this.getExtendedBounds(d),g=Math.min(a+this.batchSize_,this.markers_.length);for(b=a;b<g;b++)c=this.markers_[b],!c.isAdded&&this.isMarkerInBounds_(c,f)&&(!this.ignoreHidden_||this.ignoreHidden_&&c.getVisible())&&this.addToClosestCluster_(c);g<this.markers_.length?this.timerRefStatic=setTimeout(function(){e.createClusters_(g)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},MarkerClusterer.prototype.extend=function(a,b){return function(a){var b;for(b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[b])},MarkerClusterer.CALCULATOR=function(a,b){for(var c=0,d="",e=a.length.toString(),f=e;0!==f;)f=parseInt(f/10,10),c++;return c=Math.min(c,b),{text:e,index:c,title:d}},MarkerClusterer.BATCH_SIZE=2e3,MarkerClusterer.BATCH_SIZE_IE=500,MarkerClusterer.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",MarkerClusterer.IMAGE_EXTENSION="png",MarkerClusterer.IMAGE_SIZES=[53,56,66,78,90],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}); 'use strict'; (function (window, document) { 'use strict'; function Pathformer(element) { if (typeof element === 'undefined') { throw new Error('Pathformer [constructor]: "element" parameter is required'); } if (element.constructor === String) { element = document.getElementById(element); if (!element) { throw new Error('Pathformer [constructor]: "element" parameter is not related to an existing ID'); } } if (element.constructor instanceof window.SVGElement || /^svg$/i.test(element.nodeName)) { this.el = element; } else { throw new Error('Pathformer [constructor]: "element" parameter must be a string or a SVGelement'); } this.scan(element); } Pathformer.prototype.TYPES = ['line', 'ellipse', 'circle', 'polygon', 'polyline', 'rect']; Pathformer.prototype.ATTR_WATCH = ['cx', 'cy', 'points', 'r', 'rx', 'ry', 'x', 'x1', 'x2', 'y', 'y1', 'y2']; Pathformer.prototype.scan = function (svg) { var fn, element, pathData, pathDom, elements = svg.querySelectorAll(this.TYPES.join(',')); for (var i = 0; i < elements.length; i++) { element = elements[i]; fn = this[element.tagName.toLowerCase() + 'ToPath']; pathData = fn(this.parseAttr(element.attributes)); pathDom = this.pathMaker(element, pathData); element.parentNode.replaceChild(pathDom, element); } }; Pathformer.prototype.lineToPath = function (element) { var newElement = {}; newElement.d = 'M' + element.x1 + ',' + element.y1 + 'L' + element.x2 + ',' + element.y2; return newElement; }; Pathformer.prototype.rectToPath = function (element) { var newElement = {}, x = parseFloat(element.x) || 0, y = parseFloat(element.y) || 0, width = parseFloat(element.width) || 0, height = parseFloat(element.height) || 0; newElement.d = 'M' + x + ' ' + y + ' '; newElement.d += 'L' + (x + width) + ' ' + y + ' '; newElement.d += 'L' + (x + width) + ' ' + (y + height) + ' '; newElement.d += 'L' + x + ' ' + (y + height) + ' Z'; return newElement; }; Pathformer.prototype.polylineToPath = function (element) { var i, path; var newElement = {}; var points = element.points.trim().split(' '); if (element.points.indexOf(',') === -1) { var formattedPoints = []; for (i = 0; i < points.length; i+=2) { formattedPoints.push(points[i] + ',' + points[i+1]); } points = formattedPoints; } path = 'M' + points[0]; for(i = 1; i < points.length; i++) { if (points[i].indexOf(',') !== -1) { path += 'L' + points[i]; } } newElement.d = path; return newElement; }; Pathformer.prototype.polygonToPath = function (element) { var newElement = Pathformer.prototype.polylineToPath(element); newElement.d += 'Z'; return newElement; }; Pathformer.prototype.ellipseToPath = function (element) { var startX = element.cx - element.rx, startY = element.cy; var endX = parseFloat(element.cx) + parseFloat(element.rx), endY = element.cy; var newElement = {}; newElement.d = 'M' + startX + ',' + startY + 'A' + element.rx + ',' + element.ry + ' 0,1,1 ' + endX + ',' + endY + 'A' + element.rx + ',' + element.ry + ' 0,1,1 ' + startX + ',' + endY; return newElement; }; Pathformer.prototype.circleToPath = function (element) { var newElement = {}; var startX = element.cx - element.r, startY = element.cy; var endX = parseFloat(element.cx) + parseFloat(element.r), endY = element.cy; newElement.d = 'M' + startX + ',' + startY + 'A' + element.r + ',' + element.r + ' 0,1,1 ' + endX + ',' + endY + 'A' + element.r + ',' + element.r + ' 0,1,1 ' + startX + ',' + endY; return newElement; }; Pathformer.prototype.pathMaker = function (element, pathData) { var i, attr, pathTag = document.createElementNS('http://www.w3.org/2000/svg','path'); for(i = 0; i < element.attributes.length; i++) { attr = element.attributes[i]; if (this.ATTR_WATCH.indexOf(attr.name) === -1) { pathTag.setAttribute(attr.name, attr.value); } } for(i in pathData) { pathTag.setAttribute(i, pathData[i]); } return pathTag; }; Pathformer.prototype.parseAttr = function (element) { var attr, output = {}; for (var i = 0; i < element.length; i++) { attr = element[i]; if (this.ATTR_WATCH.indexOf(attr.name) !== -1 && attr.value.indexOf('%') !== -1) { throw new Error('Pathformer [parseAttr]: a SVG shape got values in percentage. This cannot be transformed into \'path\' tags. Please use \'viewBox\'.'); } output[attr.name] = attr.value; } return output; }; 'use strict'; var requestAnimFrame, cancelAnimFrame, parsePositiveInt; function Vivus (element, options, callback) { this.isReady = false; this.setElement(element, options); this.setOptions(options); this.setCallback(callback); if (this.isReady) { this.init(); } } Vivus.LINEAR = function (x) {return x;}; Vivus.EASE = function (x) {return -Math.cos(x * Math.PI) / 2 + 0.5;}; Vivus.EASE_OUT = function (x) {return 1 - Math.pow(1-x, 3);}; Vivus.EASE_IN = function (x) {return Math.pow(x, 3);}; Vivus.EASE_OUT_BOUNCE = function (x) { var base = -Math.cos(x * (0.5 * Math.PI)) + 1, rate = Math.pow(base,1.5), rateR = Math.pow(1 - x, 2), progress = -Math.abs(Math.cos(rate * (2.5 * Math.PI) )) + 1; return (1- rateR) + (progress * rateR); }; Vivus.prototype.setElement = function (element, options) { if (typeof element === 'undefined') { throw new Error('Vivus [constructor]: "element" parameter is required'); } if (element.constructor === String) { element = document.getElementById(element); if (!element) { throw new Error('Vivus [constructor]: "element" parameter is not related to an existing ID'); } } this.parentEl = element; if (options && options.file) { var objElm = document.createElement('object'); objElm.setAttribute('type', 'image/svg+xml'); objElm.setAttribute('data', options.file); objElm.setAttribute('built-by-vivus', 'true'); element.appendChild(objElm); element = objElm; } switch (element.constructor) { case window.SVGSVGElement: case window.SVGElement: this.el = element; this.isReady = true; break; case window.HTMLObjectElement: var onLoad, self; self = this; onLoad = function (e) { if (self.isReady) { return; } self.el = element.contentDocument && element.contentDocument.querySelector('svg'); if (!self.el && e) { throw new Error('Vivus [constructor]: object loaded does not contain any SVG'); } else if (self.el) { if (element.getAttribute('built-by-vivus')) { self.parentEl.insertBefore(self.el, element); self.parentEl.removeChild(element); self.el.setAttribute('width', '100%'); self.el.setAttribute('height', '100%'); } self.isReady = true; self.init(); return true; } }; if (!onLoad()) { element.addEventListener('load', onLoad); } break; default: throw new Error('Vivus [constructor]: "element" parameter is not valid (or miss the "file" attribute)'); } }; Vivus.prototype.setOptions = function (options) { var allowedTypes = ['delayed', 'async', 'oneByOne', 'scenario', 'scenario-sync']; var allowedStarts = ['inViewport', 'manual', 'autostart']; if (options !== undefined && options.constructor !== Object) { throw new Error('Vivus [constructor]: "options" parameter must be an object'); } else { options = options || {}; } if (options.type && allowedTypes.indexOf(options.type) === -1) { throw new Error('Vivus [constructor]: ' + options.type + ' is not an existing animation `type`'); } else { this.type = options.type || allowedTypes[0]; } if (options.start && allowedStarts.indexOf(options.start) === -1) { throw new Error('Vivus [constructor]: ' + options.start + ' is not an existing `start` option'); } else { this.start = options.start || allowedStarts[0]; } this.isIE = (window.navigator.userAgent.indexOf('MSIE') !== -1 || window.navigator.userAgent.indexOf('Trident/') !== -1 || window.navigator.userAgent.indexOf('Edge/') !== -1 ); this.duration = parsePositiveInt(options.duration, 120); this.delay = parsePositiveInt(options.delay, null); this.dashGap = parsePositiveInt(options.dashGap, 1); this.forceRender = options.hasOwnProperty('forceRender') ? !!options.forceRender : this.isIE; this.selfDestroy = !!options.selfDestroy; this.onReady = options.onReady; this.frameLength = this.currentFrame = this.map = this.delayUnit = this.speed = this.handle = null; this.ignoreInvisible = options.hasOwnProperty('ignoreInvisible') ? !!options.ignoreInvisible : false; this.animTimingFunction = options.animTimingFunction || Vivus.LINEAR; this.pathTimingFunction = options.pathTimingFunction || Vivus.LINEAR; if (this.delay >= this.duration) { throw new Error('Vivus [constructor]: delay must be shorter than duration'); } }; Vivus.prototype.setCallback = function (callback) { if (!!callback && callback.constructor !== Function) { throw new Error('Vivus [constructor]: "callback" parameter must be a function'); } this.callback = callback || function () {}; }; Vivus.prototype.mapping = function () { var i, paths, path, pAttrs, pathObj, totalLength, lengthMeter, timePoint; timePoint = totalLength = lengthMeter = 0; paths = this.el.querySelectorAll('path'); for (i = 0; i < paths.length; i++) { path = paths[i]; if (this.isInvisible(path)) { continue; } pathObj = { el: path, length: Math.ceil(path.getTotalLength()) }; if (isNaN(pathObj.length)) { if (window.console && console.warn) { console.warn('Vivus [mapping]: cannot retrieve a path element length', path); } continue; } this.map.push(pathObj); path.style.strokeDasharray = pathObj.length + ' ' + (pathObj.length + this.dashGap * 2); path.style.strokeDashoffset = pathObj.length + this.dashGap; pathObj.length += this.dashGap; totalLength += pathObj.length; this.renderPath(i); } totalLength = totalLength === 0 ? 1 : totalLength; this.delay = this.delay === null ? this.duration / 3 : this.delay; this.delayUnit = this.delay / (paths.length > 1 ? paths.length - 1 : 1); for (i = 0; i < this.map.length; i++) { pathObj = this.map[i]; switch (this.type) { case 'delayed': pathObj.startAt = this.delayUnit * i; pathObj.duration = this.duration - this.delay; break; case 'oneByOne': pathObj.startAt = lengthMeter / totalLength * this.duration; pathObj.duration = pathObj.length / totalLength * this.duration; break; case 'async': pathObj.startAt = 0; pathObj.duration = this.duration; break; case 'scenario-sync': path = pathObj.el; pAttrs = this.parseAttr(path); pathObj.startAt = timePoint + (parsePositiveInt(pAttrs['data-delay'], this.delayUnit) || 0); pathObj.duration = parsePositiveInt(pAttrs['data-duration'], this.duration); timePoint = pAttrs['data-async'] !== undefined ? pathObj.startAt : pathObj.startAt + pathObj.duration; this.frameLength = Math.max(this.frameLength, (pathObj.startAt + pathObj.duration)); break; case 'scenario': path = pathObj.el; pAttrs = this.parseAttr(path); pathObj.startAt = parsePositiveInt(pAttrs['data-start'], this.delayUnit) || 0; pathObj.duration = parsePositiveInt(pAttrs['data-duration'], this.duration); this.frameLength = Math.max(this.frameLength, (pathObj.startAt + pathObj.duration)); break; } lengthMeter += pathObj.length; this.frameLength = this.frameLength || this.duration; } }; Vivus.prototype.drawer = function () { var self = this; this.currentFrame += this.speed; if (this.currentFrame <= 0) { this.stop(); this.reset(); this.callback(this); } else if (this.currentFrame >= this.frameLength) { this.stop(); this.currentFrame = this.frameLength; this.trace(); if (this.selfDestroy) { this.destroy(); } this.callback(this); } else { this.trace(); this.handle = requestAnimFrame(function () { self.drawer(); }); } }; Vivus.prototype.trace = function () { var i, progress, path, currentFrame; currentFrame = this.animTimingFunction(this.currentFrame / this.frameLength) * this.frameLength; for (i = 0; i < this.map.length; i++) { path = this.map[i]; progress = (currentFrame - path.startAt) / path.duration; progress = this.pathTimingFunction(Math.max(0, Math.min(1, progress))); if (path.progress !== progress) { path.progress = progress; path.el.style.strokeDashoffset = Math.floor(path.length * (1 - progress)); this.renderPath(i); } } }; Vivus.prototype.renderPath = function (index) { if (this.forceRender && this.map && this.map[index]) { var pathObj = this.map[index], newPath = pathObj.el.cloneNode(true); pathObj.el.parentNode.replaceChild(newPath, pathObj.el); pathObj.el = newPath; } }; Vivus.prototype.init = function () { this.frameLength = 0; this.currentFrame = 0; this.map = []; new Pathformer(this.el); this.mapping(); this.starter(); if (this.onReady) { this.onReady(this); } }; Vivus.prototype.starter = function () { switch (this.start) { case 'manual': return; case 'autostart': this.play(); break; case 'inViewport': var self = this, listener = function () { if (self.isInViewport(self.parentEl, 1)) { self.play(); window.removeEventListener('scroll', listener); } }; window.addEventListener('scroll', listener); listener(); break; } }; Vivus.prototype.getStatus = function () { return this.currentFrame === 0 ? 'start' : this.currentFrame === this.frameLength ? 'end' : 'progress'; }; Vivus.prototype.reset = function () { return this.setFrameProgress(0); }; Vivus.prototype.finish = function () { return this.setFrameProgress(1); }; Vivus.prototype.setFrameProgress = function (progress) { progress = Math.min(1, Math.max(0, progress)); this.currentFrame = Math.round(this.frameLength * progress); this.trace(); return this; }; Vivus.prototype.play = function (speed) { if (speed && typeof speed !== 'number') { throw new Error('Vivus [play]: invalid speed'); } this.speed = speed || 1; if (!this.handle) { this.drawer(); } return this; }; Vivus.prototype.stop = function () { if (this.handle) { cancelAnimFrame(this.handle); this.handle = null; } return this; }; Vivus.prototype.destroy = function () { this.stop(); var i, path; for (i = 0; i < this.map.length; i++) { path = this.map[i]; path.el.style.strokeDashoffset = null; path.el.style.strokeDasharray = null; this.renderPath(i); } }; Vivus.prototype.isInvisible = function (el) { var rect, ignoreAttr = el.getAttribute('data-ignore'); if (ignoreAttr !== null) { return ignoreAttr !== 'false'; } if (this.ignoreInvisible) { rect = el.getBoundingClientRect(); return !rect.width && !rect.height; } else { return false; } }; Vivus.prototype.parseAttr = function (element) { var attr, output = {}; if (element && element.attributes) { for (var i = 0; i < element.attributes.length; i++) { attr = element.attributes[i]; output[attr.name] = attr.value; } } return output; }; Vivus.prototype.isInViewport = function (el, h) { var scrolled = this.scrollY(), viewed = scrolled + this.getViewportH(), elBCR = el.getBoundingClientRect(), elHeight = elBCR.height, elTop = scrolled + elBCR.top, elBottom = elTop + elHeight; h = h || 0; return (elTop + elHeight * h) <= viewed && (elBottom) >= scrolled; }; Vivus.prototype.docElem = window.document.documentElement; Vivus.prototype.getViewportH = function () { var client = this.docElem.clientHeight, inner = window.innerHeight; if (client < inner) { return inner; } else { return client; } }; Vivus.prototype.scrollY = function () { return window.pageYOffset || this.docElem.scrollTop; }; requestAnimFrame = (function () { return ( window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function( callback){ return window.setTimeout(callback, 1000 / 60); } ); })(); cancelAnimFrame = (function () { return ( window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame || function(id){ return window.clearTimeout(id); } ); })(); parsePositiveInt = function (value, defaultValue) { var output = parseInt(value, 10); return (output >= 0) ? output : defaultValue; }; if (typeof define === 'function' && define.amd) { define([], function() { return Vivus; }); } else if (typeof exports === 'object') { module.exports = Vivus; } else { window.Vivus = Vivus; } }(window, document)); jQuery(document).on('action.init_shortcodes', function(e, container) { "use strict"; var time = 50; container.find('.sc_icon_type_svg:not(.inited)').each(function(idx) { var cont = jQuery(this); var id = cont.addClass('inited').attr('id'); if (id === undefined) { id = 'sc_icons_'+Math.random(); id = id.replace('.', ''); } else id += '_'+idx; cont.find('svg').attr('id', id); setTimeout( function(){ cont.css('visibility', 'visible'); var obj = new Vivus(id, {type: 'async', duration: 20}); cont.data('svg_obj', obj); cont.parent().hover( function() { cont.data('svg_obj').reset().play(); }, function() { } ); }, time); time += 300; }); }); jQuery(document).on('action.init_shortcodes', function(e, container) { "use strict"; jQuery('.sc_popup:not(.inited)').each(function() { var id = jQuery(this).attr('id'); if (!id) return; jQuery('a[href="#'+id+'"]').addClass('trx_addons_popup_link'); jQuery(this).addClass('inited'); }); }); (function() { "use strict"; jQuery(document).on('action.init_hidden_elements', trx_addons_sc_skills_init); jQuery(document).on('action.init_shortcodes', trx_addons_sc_skills_init); jQuery(document).on('action.scroll_trx_addons', trx_addons_sc_skills_init); jQuery(document).on('action.resize_trx_addons', trx_addons_sc_skills_resize); function trx_addons_sc_skills_init(e, container) { if (container === undefined) container = jQuery('body'); var scrollPosition = jQuery(window).scrollTop() + jQuery(window).height(); container.find('.sc_skills_item:not(.inited)').each(function () { var skillsItem = jQuery(this); if (jQuery(this).parents('div:hidden,article:hidden').length > 0) { return; } var scrollSkills = skillsItem.offset().top; if (scrollPosition > scrollSkills) { var init_ok = true; var skills = skillsItem.parents('.sc_skills').eq(0); var type = skills.data('type'); var total = (type=='pie' && skills.hasClass('sc_skills_compact_on')) ? skillsItem.find('.sc_skills_data .pie') : skillsItem.find('.sc_skills_total').eq(0); var start = parseFloat(total.data('start')); var stop = parseFloat(total.data('stop')); var maximum = parseInt(total.data('max')); var startPercent = Math.round(start/maximum*100); var stopPercent = Math.round(stop/maximum*100); var ed = total.data('ed'); var speed = parseInt(total.data('speed')); var step = start!=parseInt(start) || stop!=parseInt(stop) ? parseFloat(total.data('step')) : parseInt(total.data('step')); var duration = parseInt(total.data('duration')); if (isNaN(duration)) duration = Math.ceil(maximum/step)*speed; if (type == 'bar') { var dir = skills.data('dir'); var count = skillsItem.find('.sc_skills_count').eq(0); if (dir=='horizontal') count.css('width', startPercent + '%').animate({ width: stopPercent + '%' }, duration); else if (dir=='vertical') count.css('height', startPercent + '%').animate({ height: stopPercent + '%' }, duration); trx_addons_sc_skills_animate_counter(start, stop, speed, step, ed, total); } else if (type == 'counter') { trx_addons_sc_skills_animate_counter(start, stop, speed, step, ed, total); } else if (type == 'pie') { if (window.Chart) { var steps = parseInt(total.data('steps')); var bg_color = total.data('bg_color'); var border_color = total.data('border_color'); var cutout = parseInt(total.data('cutout')); var easing = total.data('easing'); var options = { segmentShowStroke: border_color!='', segmentStrokeColor: border_color, segmentStrokeWidth: border_color!='' ? 1 : 0, percentageInnerCutout: cutout, animation: skillsItem.parents('.vc_row[data-vc-full-width="true"]').length==0, animationSteps: steps, animationEasing: easing, animateRotate: true, animateScale: skillsItem.parents('.vc_row[data-vc-full-width="true"]').length==0, }; var pieData = []; total.each(function() { var color = jQuery(this).data('color'); var stop = parseInt(jQuery(this).data('stop')); var stopPercent = Math.round(stop/maximum*100); pieData.push({ value: stopPercent, color: color }); }); if (total.length == 1) { trx_addons_sc_skills_animate_counter(start, stop, Math.round(1500/steps), step, ed, total); pieData.push({ value: 100-stopPercent, color: bg_color }); } var canvas = skillsItem.find('canvas'); canvas .data('pie-data', pieData) .data('pie-options', options) .attr({width: skillsItem.width(), height: skillsItem.width()}) .css({width: skillsItem.width(), height: skillsItem.height()}); new Chart(canvas.get(0).getContext("2d")).Doughnut(pieData, options); } else init_ok = false; } if (init_ok) skillsItem.addClass('inited'); } }); } function trx_addons_sc_skills_animate_counter(start, stop, speed, step, ed, total) { start = Math.min(stop, start + step); total.text(start+ed); if (start < stop) { setTimeout(function () { trx_addons_sc_skills_animate_counter(start, stop, speed, step, ed, total); }, speed); } } function trx_addons_sc_skills_resize() { jQuery('.sc_skills_pie canvas').each(function () { var canvas = jQuery(this); if (canvas.parents('div:hidden,article:hidden').length > 0) { return; } var skillsItem = canvas.parent(); if (skillsItem.width() != canvas.width()) { var data = canvas.data('pie-data'); var opt = canvas.data('pie-options'); if (data === undefined || opt === undefined) return; canvas.empty() .attr({width: skillsItem.width(), height: skillsItem.width()}) .css({width: skillsItem.width(), height: skillsItem.height()}); opt.animation = false; new Chart(canvas.get(0).getContext("2d")).Doughnut(data, opt); } }); } })(); jQuery(document).on('action.ready_trx_addons', function() { "use strict"; jQuery('body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories ul.product-categories .has_children > a').append('<span class="open_child_menu"></span>'); jQuery('body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories').on('click', 'ul.product-categories.plain li a .open_child_menu', function(e) { var $a = jQuery(this).parent(); if ($a.siblings('ul:visible').length > 0) $a.siblings('ul').slideUp().parent().removeClass('opened'); else { jQuery(this).parents('li').siblings('li').find('ul:visible').slideUp().parent().removeClass('opened'); $a.siblings('ul').slideDown().parent().addClass('opened'); } e.preventDefault(); return false; }); jQuery(document).on('action.resize_trx_addons', function() { trx_addons_woocommerce_resize_actions(); }); trx_addons_woocommerce_resize_actions(); function trx_addons_woocommerce_resize_actions() { var cat_menu = jQuery('body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories ul.product-categories'); var sb = cat_menu.parents('.widget_area'); if (sb.length > 0 && cat_menu.length > 0) { if (sb.width() == sb.parents('.content_wrap').width()) { if (cat_menu.hasClass('inited')) { cat_menu.removeClass('inited').addClass('plain').superfish('destroy'); cat_menu.find('ul.animated').removeClass('animated').addClass('no_animated'); } } else { if (!cat_menu.hasClass('inited')) { cat_menu.removeClass('plain').addClass('inited'); cat_menu.find('ul.no_animated').removeClass('no_animated').addClass('animated'); trx_addons_init_sfmenu('body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories ul.product-categories'); } } } } jQuery('.variations_form.cart:not(.inited)').each(function() { var form = jQuery(this).addClass('inited'); var trx_addons_attribs = form.find('.trx_addons_attrib_item'); if (trx_addons_attribs.length == 0) return; trx_addons_attribs.on('click', function(e) { if (!jQuery(this).hasClass('trx_addons_attrib_disabled')) { jQuery(this).addClass('trx_addons_attrib_selected').siblings().removeClass('trx_addons_attrib_selected'); var term = jQuery(this).data('value'); var attrib = jQuery(this).parents('.trx_addons_attrib_extended').data('attrib'); var select_box = jQuery(this).parents('.trx_addons_attrib_extended').parent().find('#'+attrib).trigger('touchstart'); select_box.find('option:selected').removeAttr('selected'); select_box.find('option[value="'+term+'"]').attr('selected', 'selected'); select_box.trigger('change'); trx_addons_woocommerce_check_variations(form); } e.preventDefault(); return false; }); var busy = false; form.find( '.variations select' ).on('click', function(e) { if (!busy) { busy = true; trx_addons_woocommerce_check_variations(form); busy = false; } }); trx_addons_woocommerce_check_variations(form); }); function trx_addons_woocommerce_check_variations(form, exclude) { setTimeout(function() { if (exclude == undefined) exclude = ''; form.find( '.variations select' ).each( function() { var select_box = jQuery(this); var attrib_box = select_box.siblings('.trx_addons_attrib_extended').length==1 ? select_box.siblings('.trx_addons_attrib_extended') : select_box.parent().siblings('.trx_addons_attrib_extended'); if (select_box.attr('id') != exclude) select_box.trigger('touchstart'); attrib_box.find('.trx_addons_attrib_item').removeClass('trx_addons_attrib_selected').addClass('trx_addons_attrib_disabled'); select_box.find('option').each(function() { attrib_box.find('.trx_addons_attrib_item[data-value="'+jQuery(this).val()+'"]') .removeClass('trx_addons_attrib_disabled') .toggleClass('trx_addons_attrib_selected', jQuery(this).get(0).selected); }); }); }, 10); } });