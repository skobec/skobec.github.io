<?
    $lst82 = (array)$this->data->list_fields->{$code};
    $list_fields_cnt82 = count($lst82);
    $i82 = 0;
    $parent_id = null;
?>
<?if(defined('READ_ONLY_MODE')) {?>
    <?$_v_is_find=false;?>
    <?foreach($lst82 as $dic_id => $dic) {?>
        <?foreach($dic as $field) {?>
            <?if($this->data->values->{$code} == $field->id){?>
                <?$_v_is_find=true;?>
                <?=htmlspecialchars($field->title)?>
            <?}?>
        <?}?>
    <?}?>
    <?if(!$_v_is_find){?>
        <span class="font-no-data"><?=Constant::VAR_TEXT_NO_DATA?></span>
    <?}?>
<?}else{?>
    <?foreach($lst82 as $dic_id => $dic) {?>
        <div class="controls-selectbox">
            <select class="list" {$validator} <?=($i82 < $list_fields_cnt82 - 1) ? 'disabled="disabled"' : null?> name="form[{$code}][]" id="field_list-<?=$dic_id?>" <?=$parent_id ? "data-parent_list_id=\"field_list-{$parent_id}\"" : null?>>
                <option value="" >Не выбрано...</option>
                <?foreach($dic as $field) {?>
                    <option <?=(property_exists($this->data->list_fields->{$code}, $field->id) || ($this->data->values && property_exists($this->data->values, '{$code}') && ($this->data->values->{$code} == $field->id))) ? 'selected' : '' ?> value="<?=$field->id?>"><?=htmlspecialchars($field->title)?></option>
                <?}?>
            </select> {$help}
        </div>
    <?$i82++;$parent_id=$dic_id;}?>
<?}?>