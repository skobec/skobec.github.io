/* jQuery Form Styler v1.4.1 | (c) Dimox | https://github.com/Dimox/jQueryFormStyler */
(function(e){e.fn.styler=function(p){p=e.extend({idSuffix:"-styler",filePlaceholder:"\u0424\u0430\u0439\u043b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",browseText:"\u041e\u0431\u0437\u043e\u0440...",selectVisibleOptions:0,singleSelectzIndex:"100",selectSmartPositioning:!0},p);return this.each(function(){var a=e(this),q="",s="",u="",t="";void 0!==a.attr("id")&&""!=a.attr("id")&&(q=' id="'+a.attr("id")+p.idSuffix+'"');void 0!==a.attr("class")&&""!=a.attr("class")&&(s=" "+a.attr("class"));void 0!==
a.attr("title")&&""!=a.attr("title")&&(u=' title="'+a.attr("title")+'"');var v=a.data(),f;for(f in v)""!=v[f]&&(t+=" data-"+f+'="'+v[f]+'"');q+=t;a.is(":checkbox")?a.each(function(){if(1>a.parent("div.jq-checkbox").length){var b=e("<div"+q+' class="jq-checkbox'+s+'"'+u+'><div class="jq-checkbox__div"></div></div>');a.css({position:"absolute",zIndex:"-1",opacity:0}).after(b).prependTo(b);b.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none",
"-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative",overflow:"hidden"});a.is(":checked")&&b.addClass("checked");a.is(":disabled")&&b.addClass("disabled");b.click(function(){b.is(".disabled")||(a.is(":checked")?(a.prop("checked",!1),b.removeClass("checked")):(a.prop("checked",!0),b.addClass("checked")),a.change());return!1});a.closest("label").add('label[for="'+a.attr("id")+'"]').click(function(a){b.click();a.preventDefault()});a.change(function(){a.is(":checked")?
b.addClass("checked"):b.removeClass("checked")}).keydown(function(a){13!=a.which&&32!=a.which||b.click()}).focus(function(){b.is(".disabled")||b.addClass("focused")}).blur(function(){b.removeClass("focused")}).on("refresh",function(){a.is(":checked")?b.addClass("checked"):b.removeClass("checked");a.is(":disabled")?b.addClass("disabled"):b.removeClass("disabled")})}}):a.is(":radio")?a.each(function(){if(1>a.parent("div.jq-radio").length){var b=e("<div"+q+' class="jq-radio'+s+'"'+u+'><div class="jq-radio__div"></div></div>');
a.css({position:"absolute",zIndex:"-1",opacity:0}).after(b).prependTo(b);b.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative"});a.is(":checked")&&b.addClass("checked");a.is(":disabled")&&b.addClass("disabled");b.click(function(){b.is(".disabled")||(b.closest("form").find('input[name="'+a.attr("name")+'"]').prop("checked",!1).parent().removeClass("checked"),
a.prop("checked",!0).parent().addClass("checked"),a.change());return!1});a.closest("label").add('label[for="'+a.attr("id")+'"]').click(function(a){b.click();a.preventDefault()});a.change(function(){a.parent().addClass("checked")}).focus(function(){b.is(".disabled")||b.addClass("focused")}).blur(function(){b.removeClass("focused")}).on("refresh",function(){a.is(":checked")?(e('input[name="'+a.attr("name")+'"]').parent().removeClass("checked"),b.addClass("checked")):b.removeClass("checked");a.is(":disabled")?
b.addClass("disabled"):b.removeClass("disabled")})}}):a.is(":file")?a.css({position:"absolute",top:"0",right:"0",width:"100%",height:"100%",opacity:0}).each(function(){if(1>a.parent("div.jq-file").length){var b=e("<div"+q+' class="jq-file'+s+'" style="display: inline-block; position: relative; overflow: hidden"></div>'),f=e('<div class="jq-file__name">'+p.filePlaceholder+"</div>").appendTo(b);e('<div class="jq-file__browse">'+p.browseText+"</div>").appendTo(b);a.after(b);b.append(a);a.is(":disabled")&&
b.addClass("disabled");a.change(function(){f.text(a.val().replace(/.+[\\\/]/,""))}).focus(function(){b.addClass("focused")}).blur(function(){b.removeClass("focused")}).click(function(){b.removeClass("focused")}).on("refresh",function(){a.is(":disabled")?b.addClass("disabled"):b.removeClass("disabled")})}}):a.is("select")&&a.each(function(){if(1>a.next("div.jqselect").length){var b=function(){function b(a){a.unbind("mousewheel DOMMouseScroll").bind("mousewheel DOMMouseScroll",function(a){var d=null;
"mousewheel"==a.type?d=-1*a.originalEvent.wheelDelta:"DOMMouseScroll"==a.type&&(d=40*a.originalEvent.detail);d&&(a.preventDefault(),e(this).scrollTop(d+e(this).scrollTop()))})}function t(){f=0;for(len=g.length;f<len;f++){var a="",b="",e=a="",n="",c="";g.eq(f).prop("selected")&&(b="selected sel");g.eq(f).is(":disabled")&&(b="disabled");g.eq(f).is(":selected:disabled")&&(b="selected sel disabled");void 0!==g.eq(f).attr("class")&&(e=" "+g.eq(f).attr("class"),c=' data-jqfs-class="'+g.eq(f).attr("class")+
'"');var h=g.eq(f).data(),m;for(m in h)""!=h[m]&&(a+=" data-"+m+'="'+h[m]+'"');a="<li"+c+a+' class="'+b+e+'">'+g.eq(f).text()+"</li>";g.eq(f).parent().is("optgroup")&&(void 0!==g.eq(f).parent().attr("class")&&(n=" "+g.eq(f).parent().attr("class")),a="<li"+c+' class="'+b+e+" option"+n+'">'+g.eq(f).text()+"</li>",g.eq(f).is(":first-child")&&(a='<li class="optgroup'+n+'">'+g.eq(f).parent().attr("label")+"</li>"+a));x+=a}}function v(){var d=e("<div"+q+' class="jq-selectbox jqselect'+s+'" style="display: inline-block; position: relative; z-index:'+
p.singleSelectzIndex+'"><div class="jq-selectbox__select"'+u+'><div class="jq-selectbox__select-text"></div><div class="jq-selectbox__trigger"><div class="jq-selectbox__trigger-arrow"></div></div></div></div>');a.wrap('<div class="jq-selectbox-wrapper" style="position: relative"></div>').after(d);var f=e("div.jq-selectbox__select",d),k=e("div.jq-selectbox__select-text",d),n=g.filter(":selected");n.length?k.text(n.text()):k.text(g.first().text());t();var c=e('<div class="jq-selectbox__dropdown" style="position: absolute; overflow: auto; overflow-x: hidden"><ul style="list-style: none">'+
x+"</ul></div>");d.append(c);var h=e("li",c),m=0;h.each(function(){e(this).css({display:"inline-block","white-space":"nowrap"});e(this).width()>m&&(m=e(this).width());e(this).css({display:"block","white-space":"normal"})});var l=a.clone().css("width","auto").insertAfter(a),B=l.width();l.remove();B==a.width()?f.width(m):d.width(a.outerWidth());m>c.width()&&c.width(m+c.width()-h.width());a.css({position:"absolute",opacity:0,height:d.outerHeight()});l=h.filter(".selected");1>l.length&&h.first().addClass("selected sel");
var y=d.outerHeight();"auto"==c.css("left")&&c.css({left:0});"auto"==c.css("top")&&c.css({top:y});var r=h.outerHeight(),z=c.css("top");c.hide();l.length&&(g.first().text()!=n.text()&&d.addClass("changed"),d.data("jqfs-class",l.data("jqfs-class")),d.addClass(l.data("jqfs-class")));if(a.is(":disabled"))return d.addClass("disabled"),!1;f.click(function(){a.focus();if(p.selectSmartPositioning){var m=e(window),g=d.offset().top,f=m.height()-y-(g-m.scrollTop()),l=p.selectVisibleOptions,k=6*r,w=r*l;0<l&&
6>l&&(k=w);0>f||f<k?(c.height("auto").css({top:"auto",bottom:z}),c.outerHeight()>g-m.scrollTop()-20&&(c.height(Math.floor((g-m.scrollTop()-20)/r)*r),0<l&&6>l?c.height()>k&&c.height(k):6<l&&c.height()>w&&c.height(w))):f>k&&(c.height("auto").css({bottom:"auto",top:z}),c.outerHeight()>f-20&&(c.height(Math.floor((f-20)/r)*r),0<l&&6>l?c.height()>k&&c.height(k):6<l&&c.height()>w&&c.height(w)))}e("div.jqselect").css({zIndex:p.singleSelectzIndex-1}).removeClass("opened focused");d.css({zIndex:p.singleSelectzIndex});
c.is(":hidden")?(e("div.jq-selectbox__dropdown:visible").hide(),c.show(),d.addClass("opened")):(c.hide(),d.removeClass("opened"));h.filter(".selected").length&&c.scrollTop(c.scrollTop()+h.filter(".selected").position().top-c.innerHeight()/2+r/2);b(c);return!1});h.hover(function(){e(this).siblings().removeClass("selected")});var A=h.filter(".selected").text();h.filter(".selected").text();h.filter(":not(.disabled):not(.optgroup)").click(function(){var b=e(this),m=b.text();if(A!=m){var l=b.index();b.is(".option")&&
(l-=b.prevAll(".optgroup").length);b.addClass("selected sel").siblings().removeClass("selected sel");g.prop("selected",!1).eq(l).prop("selected",!0);A=m;k.text(m);g.first().text()!=m?d.addClass("changed"):d.removeClass("changed");d.data("jqfs-class")&&d.removeClass(d.data("jqfs-class"));d.data("jqfs-class",b.data("jqfs-class"));d.addClass(b.data("jqfs-class"));a.change()}c.hide();d.removeClass("opened")});c.mouseout(function(){e("li.sel",c).addClass("selected")});a.change(function(){k.text(g.filter(":selected").text());
h.removeClass("selected sel").not(".optgroup").eq(a[0].selectedIndex).addClass("selected sel")}).focus(function(){d.addClass("focused")}).blur(function(){d.removeClass("focused")}).bind("keydown keyup",function(b){k.text(g.filter(":selected").text());h.removeClass("selected sel").not(".optgroup").eq(a[0].selectedIndex).addClass("selected sel");38!=b.which&&37!=b.which&&33!=b.which||c.scrollTop(c.scrollTop()+h.filter(".selected").position().top);40!=b.which&&39!=b.which&&34!=b.which||c.scrollTop(c.scrollTop()+
h.filter(".selected").position().top-c.innerHeight()+r);13==b.which&&c.hide()});e(document).on("click",function(a){e(a.target).parents().hasClass("jq-selectbox")||"OPTION"==a.target.nodeName||(c.hide().find("li.sel").addClass("selected"),d.removeClass("focused opened"))})}function C(){var d=e("<div"+q+' class="jq-select-multiple jqselect'+s+'"'+u+' style="display: inline-block; position: relative"></div>');a.wrap('<div class="jq-selectbox-wrapper" style="position: relative"></div>').after(d);t();
d.append('<ul style="position: relative">'+x+"</ul>");var f=e("ul",d).css({"overflow-x":"hidden"}),k=e("li",d).attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none","white-space":"nowrap"}),n=a.attr("size"),c=f.outerHeight(),h=k.outerHeight();void 0!==n&&0<n?f.css({height:h*n}):f.css({height:4*h});c>d.height()&&(f.css("overflowY","scroll"),b(f),k.filter(".selected").length&&f.scrollTop(f.scrollTop()+
k.filter(".selected").position().top));a.is(":disabled")?(d.addClass("disabled"),g.each(function(){e(this).is(":selected")&&k.eq(e(this).index()).addClass("selected")}),d.width(a.outerWidth()),d.width(d.width()-(d.outerWidth()-d.width())),a.css({position:"absolute",opacity:0,height:d.outerHeight()})):(d.width(a.outerWidth()),d.width(d.width()-(d.outerWidth()-d.width())),a.css({position:"absolute",opacity:0,height:d.outerHeight()}),k.filter(":not(.disabled):not(.optgroup)").click(function(b){a.focus();
d.removeClass("focused");var c=e(this);b.ctrlKey||c.addClass("selected");b.shiftKey||c.addClass("first");b.ctrlKey||b.shiftKey||c.siblings().removeClass("selected first");b.ctrlKey&&(c.is(".selected")?c.removeClass("selected first"):c.addClass("selected first"),c.siblings().removeClass("first"));if(b.shiftKey){var f=!1,h=!1;c.siblings().removeClass("selected").siblings(".first").addClass("selected");c.prevAll().each(function(){e(this).is(".first")&&(f=!0)});c.nextAll().each(function(){e(this).is(".first")&&
(h=!0)});f&&c.prevAll().each(function(){if(e(this).is(".selected"))return!1;e(this).not(".disabled, .optgroup").addClass("selected")});h&&c.nextAll().each(function(){if(e(this).is(".selected"))return!1;e(this).not(".disabled, .optgroup").addClass("selected")});1==k.filter(".selected").length&&c.addClass("first")}g.prop("selected",!1);k.filter(".selected").each(function(){var a=e(this),b=a.index();a.is(".option")&&(b-=a.prevAll(".optgroup").length);g.eq(b).prop("selected",!0)});a.change()}),g.each(function(a){e(this).data("optionIndex",
a)}),a.change(function(){k.removeClass("selected");var a=[];g.filter(":selected").each(function(){a.push(e(this).data("optionIndex"))});k.not(".optgroup").filter(function(b){return-1<e.inArray(b,a)}).addClass("selected")}).focus(function(){d.addClass("focused")}).blur(function(){d.removeClass("focused")}),c>d.height()&&a.keydown(function(a){38!=a.which&&37!=a.which&&33!=a.which||f.scrollTop(f.scrollTop()+k.filter(".selected").position().top-h);40!=a.which&&39!=a.which&&34!=a.which||f.scrollTop(f.scrollTop()+
k.filter(".selected:last").position().top-f.innerHeight()+2*h)}))}var g=e("option",a),x="";a.is("[multiple]")?C():v()};b();a.on("refresh",function(){a.next().remove();b()});a.on("adaptiveWidth",function(){a.css({position:"static"});a.next().width(a.outerWidth());a.css({position:"absolute"})});e(window).on("resize",function(){a.trigger("adaptiveWidth")})}})})}})(jQuery);